{"version":3,"sources":["../../../../../../Users/x/AppData/Roaming/npm/node_modules/parcel/node_modules/process/browser.js","../webpack/universalModuleDefinition","../webpack/bootstrap 781a94d7d482b86b92ee","../nunjucks/src/lib.js","../nunjucks/src/object.js","../nunjucks/src/runtime.js","../nunjucks/src/nodes.js","../nunjucks/src/compiler.js","../nunjucks/src/loader.js","../nunjucks/src/environment.js","../nunjucks/src/parser.js","../nunjucks/src/lexer.js","../nunjucks/src/web-loaders.js","../nunjucks/index.js","../node_modules/asap/browser-asap.js","../node_modules/asap/browser-raw.js","../node_modules/webpack/buildin/global.js","../node_modules/a-sync-waterfall/index.js","../node_modules/webpack/node_modules/events/events.js","../nunjucks/src/transformer.js","../nunjucks/src/filters.js","../nunjucks/src/precompiled-loader.js","../nunjucks/src/tests.js","../nunjucks/src/globals.js","../nunjucks/src/express-app.js","../nunjucks/src/precompile.js","../nunjucks/src/precompile-global.js","../nunjucks/src/jinja-compat.js","../../../../../../Users/x/AppData/Roaming/npm/node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","ArrayProto","ObjProto","Object","escapeMap","escapeRegex","hasOwnProp","obj","k","hasOwnProperty","lookupEscape","ch","_prettifyError","path","withInternals","err","Update","TemplateError","old","message","lineno","colno","cause","setPrototypeOf","defineProperty","enumerable","writable","value","captureStackTrace","constructor","getStack","stackDescriptor","getOwnPropertyDescriptor","get","stack","firstUpdate","msg","create","escape","val","replace","isFunction","toString","isArray","isString","isObject","groupBy","result","iterator","o","key","toArray","slice","without","contains","index","indexOf","repeat","char_","n","str","each","func","context","forEach","l","map","results","asyncIter","arr","iter","cb","next","asyncFor","keys","keys_","searchElement","fromIndex","_entries","_values","extend","obj1","obj2","_assign","inOperator","EventEmitter","require","lib","parentWrap","parent","prop","wrap","tmp","res","extendClass","cls","props","subclass","Obj","init","EmitterObj","arrayFrom","from","supportsIterators","Symbol","Frame","isolateWrites","variables","topLevel","set","resolveUp","parts","split","frame","resolve","id","undefined","lookup","p","forWrite","pop","makeMacro","argNames","kwargNames","macroArgs","argCount","numArgs","kwargs","getKeywordArgs","arg","makeKeywordArgs","__keywords","isKeywordArgs","lastArg","SafeString","String","configurable","valueOf","copySafeness","dest","target","markSafe","type","wrapSafe","ret","suppressValue","autoescape","ensureDefined","memberLookup","callWrap","contextOrFrameLookup","handleError","error","asyncEach","dimen","iterCallback","item","asyncAll","finished","outputArr","done","output","join","fromIterator","traverseAndCheck","Node","findAll","fields","field","NodeList","children","child","iterFields","Value","nodes","addChild","node","Root","Literal","Group","ArrayNode","Pair","Dict","LookupVal","If","IfAsync","InlineIf","For","AsyncEach","AsyncAll","Macro","Caller","Import","FromImport","template","names","withContext","FunCall","Filter","FilterAsync","KeywordArgs","Block","Super","TemplateRef","Extends","Include","Set","Switch","Case","Output","Capture","TemplateData","UnaryOp","BinOp","In","Is","Or","And","Not","Add","Concat","Sub","Mul","Div","FloorDiv","Mod","Pow","Neg","Pos","Compare","CompareOperand","CallExtension","ext","contentArgs","extName","__name","CallExtensionAsync","print","indent","inline","lines","line","stdout","write","nl","printNodes","typename","fieldName","JSON","stringify","parser","transformer","compareOps","Compiler","templateName","throwOnUndefined","codebuf","lastId","buffer","bufferStack","_scopeClosers","inBlock","fail","_pushBuffer","_tmpid","_emit","_popBuffer","code","_emitLine","_emitLines","_emitFuncBegin","_emitFuncEnd","noReturn","_closeScopeLevels","_addScopeLevel","_withScopedSyntax","_makeCallback","_templateName","_compileChildren","compile","_compileAggregate","startChar","endChar","_compileExpression","assertType","types","some","t","compileCallExtension","async","compileCallExtensionAsync","compileNodeList","compileLiteral","compileSymbol","v","compileGroup","compileArray","compileDict","compilePair","compileInlineIf","cond","body","else_","compileIn","left","right","compileIs","_binOpEmitter","compileOr","compileAnd","compileAdd","compileConcat","compileSub","compileMul","compileDiv","compileMod","compileNot","compileFloorDiv","compilePow","compileNeg","compilePos","compileCompare","expr","ops","op","compileLookupVal","_getNodeName","compileFunCall","compileFilter","compileFilterAsync","symbol","compileKeywordArgs","compileSet","ids","targets","charAt","compileSwitch","cases","c","default","compileIf","compileIfAsync","_emitLoopBindings","bindings","b","compileFor","u","tid","_compileAsyncLoop","parallel","asyncMethod","arrayLen","buf","compileAsyncEach","compileAsyncAll","_compileMacro","funcId","keepFrame","realNames","currFrame","pair","bufferId","compileMacro","compileCaller","_compileGetTemplate","eagerCompile","ignoreMissing","parentTemplateId","parentName","eagerCompileArg","ignoreMissingArg","compileImport","compileFromImport","importedId","nameNode","alias","compileBlock","compileSuper","blockName","compileExtends","compileInclude","id2","compileTemplateData","compileCapture","compileOutput","compileRoot","blockNames","blocks","block","tmpFrame","_compile","getCode","src","asyncFilters","extensions","opts","preprocessors","preprocess","filter","f","processedSrc","reduce","s","processor","transform","parse","to","dirname","isRelative","filename","asap","waterfall","compiler","filters","FileSystemLoader","WebLoader","PrecompiledLoader","tests","globals","globalRuntime","expressApp","callbackAsap","noopTmplSrc","root","runtime","Environment","loaders","dev","trimBlocks","lstripBlocks","window","nunjucksPrecompiled","unshift","_initLoaders","extensionsList","addFilter","test","addTest","loader","cache","fullname","source","invalidateCache","addExtension","extension","removeExtension","getExtension","hasExtension","addGlobal","getGlobal","wrapped","getFilter","getTest","resolveTemplate","getTemplate","that","tmpl","raw","Template","syncResult","createTemplate","info","newTmpl","noCache","handle","getSource","express","app","render","ctx","renderString","tasks","callback","forceAsync","Context","exported","addBlock","setVariable","getVariables","getBlock","getSuper","idx","blk","addExport","getExported","tmplProps","tmplStr","compiled","parentFrame","didError","rootRenderFunc","Function","_getBlocks","lexer","Parser","tokens","peeked","breakOnBlocks","dropLeadingWhitespace","nextToken","withWhitespace","tok","TOKEN_WHITESPACE","peekToken","pushToken","skip","expect","skipValue","skipSymbol","TOKEN_SYMBOL","advanceAfterBlockEnd","TOKEN_BLOCK_END","advanceAfterVariableEnd","TOKEN_VARIABLE_END","tags","VARIABLE_END","parseFor","forTok","endBlock","parsePrimary","TOKEN_COMMA","prim","parseExpression","parseUntilBlocks","parseMacro","macroTok","parseSignature","parseCall","callTok","callerArgs","macroCall","callerName","callerNode","parseWithContext","parseImport","importTok","parseFrom","fromTok","nextTok","parseBlock","tag","parseExtends","tagName","parseInclude","parseIf","parseSet","TOKEN_OPERATOR","parseSwitch","switchStart","switchEnd","caseStart","caseDefault","defaultCase","col","parseStatement","parseRaw","parseFilterStatement","endTagName","rawBlockRegex","RegExp","rawLevel","matches","begun","_extractRegex","all","pre","backN","parsePostfix","TOKEN_LEFT_PAREN","TOKEN_LEFT_BRACKET","parseAggregate","parseInlineIf","parseOr","condNode","bodyNode","parseAnd","node2","parseNot","parseIn","parseIs","invert","parseCompare","not","parseConcat","parseAdd","TOKEN_TILDE","parseSub","parseMul","parseDiv","parseFloorDiv","parseMod","parsePow","parseUnary","noFilters","parseFilter","noPostfix","TOKEN_STRING","TOKEN_INT","parseInt","TOKEN_FLOAT","parseFloat","TOKEN_BOOLEAN","TOKEN_NONE","TOKEN_REGEX","flags","parseFilterName","parseFilterArgs","TOKEN_PIPE","filterTok","TOKEN_LEFT_CURLY","TOKEN_RIGHT_PAREN","TOKEN_RIGHT_BRACKET","TOKEN_RIGHT_CURLY","TOKEN_COLON","tolerant","noParens","checkComma","prev","parseNodes","TOKEN_DATA","data","nextVal","TOKEN_BLOCK_START","TOKEN_VARIABLE_START","VARIABLE_START","TOKEN_COMMENT","COMMENT_START","COMMENT_END","parseAsRoot","lex","whitespaceChars","delimChars","intChars","BLOCK_START","BLOCK_END","TOKEN_SPECIAL","token","Tokenizer","in_code","blockStart","blockEnd","variableStart","variableEnd","commentStart","commentEnd","cur","current","isFinished","_parseString","_extract","_extractString","forward","back","forwardN","regexBody","previous","POSSIBLE_FLAGS","regexFlags","isCurrentAFlag","complexOps","curComplex","_extractUntil","match","dec","beginChars","inComment","_matches","lastLine","delimiter","m","charString","_extractMatching","breakOnMatch","first","regex","currentStr","lastIndexOf","substr","Loader","baseURL","useCache","fetch","content","status","url","ajax","XMLHttpRequest","loading","onreadystatechange","readyState","responseText","Date","getTime","open","send","precompile","installJinjaCompat","configure","templatesPath","TemplateLoader","watch","web","NodeResolveLoader","reset","precompileString","sym","gensym","mapCOW","walk","ast","depthFirst","astT","propsT","depthWalk","_liftFilters","walked","descNode","liftFilters","liftSuper","blockNode","hasSuper","convertStatements","cps","r","normalize","defaultValue","abs","Math","isNaN","num","batch","linecount","fillWith","capitalize","toLowerCase","toUpperCase","center","width","spaces","post","default_","def","bool","dictsort","caseSensitive","by","si","sort","t1","t2","a","dump","safe","forceescape","groupby","attr","indentfirst","sp","del","last","lengthFilter","Map","size","list","lower","nl2br","random","floor","rejectattr","selectattr","new_","maxCount","originalStr","nextIndex","pos","count","substring","reverse","round","precision","method","factor","pow","rounder","ceil","slices","sliceLength","extra","offset","start","end","currSlice","sum","reversed","caseSens","x","y","string","striptags","input","preserveLinebreaks","trimmedInput","trim","words","word","truncate","killwords","orig","upper","urlencode","enc","encodeURIComponent","keyvals","puncRe","emailRe","httpHttpsRe","wwwRe","tldRe","urlize","nofollow","Infinity","noFollowAttr","possibleUrl","shortUrl","wordcount","float","int","d","compiledTemplates","precompiled","callable","defined","divisibleby","one","two","escaped","equalto","eq","sameas","even","falsy","ge","greaterthan","gt","le","lessthan","lt","ne","nullTest","null","number","odd","truthy","undefinedTest","iterable","mapping","cycler","items","joiner","sep","range","stop","step","NunjucksView","defaultEngine","extname","fs","precompileGlobal","patterns","pattern","wrapper","_precompile","pathStats","existsSync","statSync","templates","addTemplates","readdirSync","file","filepath","subpath","stat","isDirectory","exclude","include","isFile","readFileSync","force","console","out","asFunction","installCompat","orig_contextOrFrameLookup","orig_memberLookup","orig_Compiler_assertType","orig_Parser_parseAggregate","uninstall","getTokensState","Slice","compileSlice","origState","errState","rethrow","isSlice","sliceLookup","ARRAY_MEMBERS","splice","append","element","remove","find","insert","elem","OBJECT_MEMBERS","values","has_key","popitem","setdefault","update","iteritems","itervalues","iterkeys","bind","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","overlay","createErrorOverlay","document","appendChild","getElementById","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","deps","cached"],"mappings":"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","file":"nunjucks.145331b0.js","sourceRoot":"..","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nunjucks\"] = factory();\n\telse\n\t\troot[\"nunjucks\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 781a94d7d482b86b92ee","'use strict';\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\n\nvar escapeMap = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&#39;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\n\nvar escapeRegex = /[&\"'<>]/g;\n\nvar exports = module.exports = {};\n\nfunction hasOwnProp(obj, k) {\n  return ObjProto.hasOwnProperty.call(obj, k);\n}\n\nexports.hasOwnProp = hasOwnProp;\n\nfunction lookupEscape(ch) {\n  return escapeMap[ch];\n}\n\nfunction _prettifyError(path, withInternals, err) {\n  if (!err.Update) {\n    // not one of ours, cast it\n    err = new exports.TemplateError(err);\n  }\n  err.Update(path);\n\n  // Unless they marked the dev flag, show them a trace from here\n  if (!withInternals) {\n    const old = err;\n    err = new Error(old.message);\n    err.name = old.name;\n  }\n\n  return err;\n}\n\nexports._prettifyError = _prettifyError;\n\nfunction TemplateError(message, lineno, colno) {\n  var err;\n  var cause;\n\n  if (message instanceof Error) {\n    cause = message;\n    message = `${cause.name}: ${cause.message}`;\n  }\n\n  if (Object.setPrototypeOf) {\n    err = new Error(message);\n    Object.setPrototypeOf(err, TemplateError.prototype);\n  } else {\n    err = this;\n    Object.defineProperty(err, 'message', {\n      enumerable: false,\n      writable: true,\n      value: message,\n    });\n  }\n\n  Object.defineProperty(err, 'name', {\n    value: 'Template render error',\n  });\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(err, this.constructor);\n  }\n\n  let getStack;\n\n  if (cause) {\n    const stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n    getStack = stackDescriptor && (stackDescriptor.get || (() => stackDescriptor.value));\n    if (!getStack) {\n      getStack = () => cause.stack;\n    }\n  } else {\n    const stack = (new Error(message)).stack;\n    getStack = (() => stack);\n  }\n\n  Object.defineProperty(err, 'stack', {\n    get: () => getStack.call(err),\n  });\n\n  Object.defineProperty(err, 'cause', {\n    value: cause\n  });\n\n  err.lineno = lineno;\n  err.colno = colno;\n  err.firstUpdate = true;\n\n  err.Update = function Update(path) {\n    let msg = '(' + (path || 'unknown path') + ')';\n\n    // only show lineno + colno next to path of template\n    // where error occurred\n    if (this.firstUpdate) {\n      if (this.lineno && this.colno) {\n        msg += ` [Line ${this.lineno}, Column ${this.colno}]`;\n      } else if (this.lineno) {\n        msg += ` [Line ${this.lineno}]`;\n      }\n    }\n\n    msg += '\\n ';\n    if (this.firstUpdate) {\n      msg += ' ';\n    }\n\n    this.message = msg + (this.message || '');\n    this.firstUpdate = false;\n    return this;\n  };\n\n  return err;\n}\n\n\nif (Object.setPrototypeOf) {\n  Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n} else {\n  TemplateError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: TemplateError,\n    },\n  });\n}\n\nexports.TemplateError = TemplateError;\n\nfunction escape(val) {\n  return val.replace(escapeRegex, lookupEscape);\n}\n\nexports.escape = escape;\n\nfunction isFunction(obj) {\n  return ObjProto.toString.call(obj) === '[object Function]';\n}\n\nexports.isFunction = isFunction;\n\nfunction isArray(obj) {\n  return ObjProto.toString.call(obj) === '[object Array]';\n}\n\nexports.isArray = isArray;\n\nfunction isString(obj) {\n  return ObjProto.toString.call(obj) === '[object String]';\n}\n\nexports.isString = isString;\n\nfunction isObject(obj) {\n  return ObjProto.toString.call(obj) === '[object Object]';\n}\n\nexports.isObject = isObject;\n\nfunction groupBy(obj, val) {\n  const result = {};\n  const iterator = isFunction(val) ? val : (o) => o[val];\n  for (let i = 0; i < obj.length; i++) {\n    const value = obj[i];\n    const key = iterator(value, i);\n    (result[key] || (result[key] = [])).push(value);\n  }\n  return result;\n}\n\nexports.groupBy = groupBy;\n\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n}\n\nexports.toArray = toArray;\n\nfunction without(array) {\n  const result = [];\n  if (!array) {\n    return result;\n  }\n  const length = array.length;\n  const contains = toArray(arguments).slice(1);\n  let index = -1;\n\n  while (++index < length) {\n    if (indexOf(contains, array[index]) === -1) {\n      result.push(array[index]);\n    }\n  }\n  return result;\n}\n\nexports.without = without;\n\nfunction repeat(char_, n) {\n  var str = '';\n  for (let i = 0; i < n; i++) {\n    str += char_;\n  }\n  return str;\n}\n\nexports.repeat = repeat;\n\nfunction each(obj, func, context) {\n  if (obj == null) {\n    return;\n  }\n\n  if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n    obj.forEach(func, context);\n  } else if (obj.length === +obj.length) {\n    for (let i = 0, l = obj.length; i < l; i++) {\n      func.call(context, obj[i], i, obj);\n    }\n  }\n}\n\nexports.each = each;\n\nfunction map(obj, func) {\n  var results = [];\n  if (obj == null) {\n    return results;\n  }\n\n  if (ArrayProto.map && obj.map === ArrayProto.map) {\n    return obj.map(func);\n  }\n\n  for (let i = 0; i < obj.length; i++) {\n    results[results.length] = func(obj[i], i);\n  }\n\n  if (obj.length === +obj.length) {\n    results.length = obj.length;\n  }\n\n  return results;\n}\n\nexports.map = map;\n\nfunction asyncIter(arr, iter, cb) {\n  let i = -1;\n\n  function next() {\n    i++;\n\n    if (i < arr.length) {\n      iter(arr[i], i, next, cb);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncIter = asyncIter;\n\nfunction asyncFor(obj, iter, cb) {\n  const keys = keys_(obj || {});\n  const len = keys.length;\n  let i = -1;\n\n  function next() {\n    i++;\n    const k = keys[i];\n\n    if (i < len) {\n      iter(k, obj[k], i, len, next);\n    } else {\n      cb();\n    }\n  }\n\n  next();\n}\n\nexports.asyncFor = asyncFor;\n\nfunction indexOf(arr, searchElement, fromIndex) {\n  return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n}\n\nexports.indexOf = indexOf;\n\nfunction keys_(obj) {\n  /* eslint-disable no-restricted-syntax */\n  const arr = [];\n  for (let k in obj) {\n    if (hasOwnProp(obj, k)) {\n      arr.push(k);\n    }\n  }\n  return arr;\n}\n\nexports.keys = keys_;\n\nfunction _entries(obj) {\n  return keys_(obj).map((k) => [k, obj[k]]);\n}\n\nexports._entries = _entries;\n\nfunction _values(obj) {\n  return keys_(obj).map((k) => obj[k]);\n}\n\nexports._values = _values;\n\nfunction extend(obj1, obj2) {\n  obj1 = obj1 || {};\n  keys_(obj2).forEach(k => {\n    obj1[k] = obj2[k];\n  });\n  return obj1;\n}\n\nexports._assign = exports.extend = extend;\n\nfunction inOperator(key, val) {\n  if (isArray(val) || isString(val)) {\n    return val.indexOf(key) !== -1;\n  } else if (isObject(val)) {\n    return key in val;\n  }\n  throw new Error('Cannot use \"in\" operator to search for \"'\n    + key + '\" in unexpected types.');\n}\n\nexports.inOperator = inOperator;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lib.js","'use strict';\n\n// A simple class system, more documentation to come\nconst EventEmitter = require('events');\nconst lib = require('./lib');\n\nfunction parentWrap(parent, prop) {\n  if (typeof parent !== 'function' || typeof prop !== 'function') {\n    return prop;\n  }\n  return function wrap() {\n    // Save the current parent method\n    const tmp = this.parent;\n\n    // Set parent to the previous method, call, and restore\n    this.parent = parent;\n    const res = prop.apply(this, arguments);\n    this.parent = tmp;\n\n    return res;\n  };\n}\n\nfunction extendClass(cls, name, props) {\n  props = props || {};\n\n  lib.keys(props).forEach(k => {\n    props[k] = parentWrap(cls.prototype[k], props[k]);\n  });\n\n  class subclass extends cls {\n    get typename() {\n      return name;\n    }\n  }\n\n  lib._assign(subclass.prototype, props);\n\n  return subclass;\n}\n\nclass Obj {\n  constructor(...args) {\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nclass EmitterObj extends EventEmitter {\n  constructor(...args) {\n    super();\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n\n  init() {}\n\n  get typename() {\n    return this.constructor.name;\n  }\n\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nmodule.exports = { Obj, EmitterObj };\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/object.js","'use strict';\n\nvar lib = require('./lib');\nvar arrayFrom = Array.from;\nvar supportsIterators = (\n  typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function'\n);\n\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nclass Frame {\n  constructor(parent, isolateWrites) {\n    this.variables = {};\n    this.parent = parent;\n    this.topLevel = false;\n    // if this is true, writes (set) should never propagate upwards past\n    // this frame to its parent (though reads may).\n    this.isolateWrites = isolateWrites;\n  }\n\n  set(name, val, resolveUp) {\n    // Allow variables with dots by automatically creating the\n    // nested structure\n    var parts = name.split('.');\n    var obj = this.variables;\n    var frame = this;\n\n    if (resolveUp) {\n      if ((frame = this.resolve(parts[0], true))) {\n        frame.set(name, val);\n        return;\n      }\n    }\n\n    for (let i = 0; i < parts.length - 1; i++) {\n      const id = parts[i];\n\n      if (!obj[id]) {\n        obj[id] = {};\n      }\n      obj = obj[id];\n    }\n\n    obj[parts[parts.length - 1]] = val;\n  }\n\n  get(name) {\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return null;\n  }\n\n  lookup(name) {\n    var p = this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return p && p.lookup(name);\n  }\n\n  resolve(name, forWrite) {\n    var p = (forWrite && this.isolateWrites) ? undefined : this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return this;\n    }\n    return p && p.resolve(name);\n  }\n\n  push(isolateWrites) {\n    return new Frame(this, isolateWrites);\n  }\n\n  pop() {\n    return this.parent;\n  }\n}\n\nfunction makeMacro(argNames, kwargNames, func) {\n  return (...macroArgs) => {\n    var argCount = numArgs(macroArgs);\n    var args;\n    var kwargs = getKeywordArgs(macroArgs);\n\n    if (argCount > argNames.length) {\n      args = macroArgs.slice(0, argNames.length);\n\n      // Positional arguments that should be passed in as\n      // keyword arguments (essentially default values)\n      macroArgs.slice(args.length, argCount).forEach((val, i) => {\n        if (i < kwargNames.length) {\n          kwargs[kwargNames[i]] = val;\n        }\n      });\n      args.push(kwargs);\n    } else if (argCount < argNames.length) {\n      args = macroArgs.slice(0, argCount);\n\n      for (let i = argCount; i < argNames.length; i++) {\n        const arg = argNames[i];\n\n        // Keyword arguments that should be passed as\n        // positional arguments, i.e. the caller explicitly\n        // used the name of a positional arg\n        args.push(kwargs[arg]);\n        delete kwargs[arg];\n      }\n      args.push(kwargs);\n    } else {\n      args = macroArgs;\n    }\n\n    return func.apply(this, args);\n  };\n}\n\nfunction makeKeywordArgs(obj) {\n  obj.__keywords = true;\n  return obj;\n}\n\nfunction isKeywordArgs(obj) {\n  return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n}\n\nfunction getKeywordArgs(args) {\n  var len = args.length;\n  if (len) {\n    const lastArg = args[len - 1];\n    if (isKeywordArgs(lastArg)) {\n      return lastArg;\n    }\n  }\n  return {};\n}\n\nfunction numArgs(args) {\n  var len = args.length;\n  if (len === 0) {\n    return 0;\n  }\n\n  const lastArg = args[len - 1];\n  if (isKeywordArgs(lastArg)) {\n    return len - 1;\n  } else {\n    return len;\n  }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  this.val = val;\n  this.length = val.length;\n}\n\nSafeString.prototype = Object.create(String.prototype, {\n  length: {\n    writable: true,\n    configurable: true,\n    value: 0\n  }\n});\nSafeString.prototype.valueOf = function valueOf() {\n  return this.val;\n};\nSafeString.prototype.toString = function toString() {\n  return this.val;\n};\n\nfunction copySafeness(dest, target) {\n  if (dest instanceof SafeString) {\n    return new SafeString(target);\n  }\n  return target.toString();\n}\n\nfunction markSafe(val) {\n  var type = typeof val;\n\n  if (type === 'string') {\n    return new SafeString(val);\n  } else if (type !== 'function') {\n    return val;\n  } else {\n    return function wrapSafe(args) {\n      var ret = val.apply(this, arguments);\n\n      if (typeof ret === 'string') {\n        return new SafeString(ret);\n      }\n\n      return ret;\n    };\n  }\n}\n\nfunction suppressValue(val, autoescape) {\n  val = (val !== undefined && val !== null) ? val : '';\n\n  if (autoescape && !(val instanceof SafeString)) {\n    val = lib.escape(val.toString());\n  }\n\n  return val;\n}\n\nfunction ensureDefined(val, lineno, colno) {\n  if (val === null || val === undefined) {\n    throw new lib.TemplateError(\n      'attempted to output null or undefined value',\n      lineno + 1,\n      colno + 1\n    );\n  }\n  return val;\n}\n\nfunction memberLookup(obj, val) {\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  if (typeof obj[val] === 'function') {\n    return (...args) => obj[val].apply(obj, args);\n  }\n\n  return obj[val];\n}\n\nfunction callWrap(obj, name, context, args) {\n  if (!obj) {\n    throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n  } else if (typeof obj !== 'function') {\n    throw new Error('Unable to call `' + name + '`, which is not a function');\n  }\n\n  return obj.apply(context, args);\n}\n\nfunction contextOrFrameLookup(context, frame, name) {\n  var val = frame.lookup(name);\n  return (val !== undefined) ?\n    val :\n    context.lookup(name);\n}\n\nfunction handleError(error, lineno, colno) {\n  if (error.lineno) {\n    return error;\n  } else {\n    return new lib.TemplateError(error, lineno, colno);\n  }\n}\n\nfunction asyncEach(arr, dimen, iter, cb) {\n  if (lib.isArray(arr)) {\n    const len = arr.length;\n\n    lib.asyncIter(arr, function iterCallback(item, i, next) {\n      switch (dimen) {\n        case 1:\n          iter(item, i, len, next);\n          break;\n        case 2:\n          iter(item[0], item[1], i, len, next);\n          break;\n        case 3:\n          iter(item[0], item[1], item[2], i, len, next);\n          break;\n        default:\n          item.push(i, len, next);\n          iter.apply(this, item);\n      }\n    }, cb);\n  } else {\n    lib.asyncFor(arr, function iterCallback(key, val, i, len, next) {\n      iter(key, val, i, len, next);\n    }, cb);\n  }\n}\n\nfunction asyncAll(arr, dimen, func, cb) {\n  var finished = 0;\n  var len;\n  var outputArr;\n\n  function done(i, output) {\n    finished++;\n    outputArr[i] = output;\n\n    if (finished === len) {\n      cb(null, outputArr.join(''));\n    }\n  }\n\n  if (lib.isArray(arr)) {\n    len = arr.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        const item = arr[i];\n\n        switch (dimen) {\n          case 1:\n            func(item, i, len, done);\n            break;\n          case 2:\n            func(item[0], item[1], i, len, done);\n            break;\n          case 3:\n            func(item[0], item[1], item[2], i, len, done);\n            break;\n          default:\n            item.push(i, len, done);\n            func.apply(this, item);\n        }\n      }\n    }\n  } else {\n    const keys = lib.keys(arr || {});\n    len = keys.length;\n    outputArr = new Array(len);\n\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < keys.length; i++) {\n        const k = keys[i];\n        func(k, arr[k], i, len, done);\n      }\n    }\n  }\n}\n\nfunction fromIterator(arr) {\n  if (typeof arr !== 'object' || arr === null || lib.isArray(arr)) {\n    return arr;\n  } else if (supportsIterators && Symbol.iterator in arr) {\n    return arrayFrom(arr);\n  } else {\n    return arr;\n  }\n}\n\nmodule.exports = {\n  Frame: Frame,\n  makeMacro: makeMacro,\n  makeKeywordArgs: makeKeywordArgs,\n  numArgs: numArgs,\n  suppressValue: suppressValue,\n  ensureDefined: ensureDefined,\n  memberLookup: memberLookup,\n  contextOrFrameLookup: contextOrFrameLookup,\n  callWrap: callWrap,\n  handleError: handleError,\n  isArray: lib.isArray,\n  keys: lib.keys,\n  SafeString: SafeString,\n  copySafeness: copySafeness,\n  markSafe: markSafe,\n  asyncEach: asyncEach,\n  asyncAll: asyncAll,\n  inOperator: lib.inOperator,\n  fromIterator: fromIterator\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/runtime.js","'use strict';\n\nconst {Obj} = require('./object');\n\nfunction traverseAndCheck(obj, type, results) {\n  if (obj instanceof type) {\n    results.push(obj);\n  }\n\n  if (obj instanceof Node) {\n    obj.findAll(type, results);\n  }\n}\n\nclass Node extends Obj {\n  init(lineno, colno, ...args) {\n    this.lineno = lineno;\n    this.colno = colno;\n\n    this.fields.forEach((field, i) => {\n      // The first two args are line/col numbers, so offset by 2\n      var val = arguments[i + 2];\n\n      // Fields should never be undefined, but null. It makes\n      // testing easier to normalize values.\n      if (val === undefined) {\n        val = null;\n      }\n\n      this[field] = val;\n    });\n  }\n\n  findAll(type, results) {\n    results = results || [];\n\n    if (this instanceof NodeList) {\n      this.children.forEach(child => traverseAndCheck(child, type, results));\n    } else {\n      this.fields.forEach(field => traverseAndCheck(this[field], type, results));\n    }\n\n    return results;\n  }\n\n  iterFields(func) {\n    this.fields.forEach((field) => {\n      func(this[field], field);\n    });\n  }\n}\n\n// Abstract nodes\nclass Value extends Node {\n  get typename() { return 'Value'; }\n  get fields() {\n    return ['value'];\n  }\n}\n\n// Concrete nodes\nclass NodeList extends Node {\n  get typename() { return 'NodeList'; }\n  get fields() { return ['children']; }\n\n  init(lineno, colno, nodes) {\n    super.init(lineno, colno, nodes || []);\n  }\n\n  addChild(node) {\n    this.children.push(node);\n  }\n}\n\nconst Root = NodeList.extend('Root');\nconst Literal = Value.extend('Literal');\nconst Symbol = Value.extend('Symbol');\nconst Group = NodeList.extend('Group');\nconst ArrayNode = NodeList.extend('Array');\nconst Pair = Node.extend('Pair', { fields: ['key', 'value'] });\nconst Dict = NodeList.extend('Dict');\nconst LookupVal = Node.extend('LookupVal', { fields: ['target', 'val'] });\nconst If = Node.extend('If', { fields: ['cond', 'body', 'else_'] });\nconst IfAsync = If.extend('IfAsync');\nconst InlineIf = Node.extend('InlineIf', { fields: ['cond', 'body', 'else_'] });\nconst For = Node.extend('For', { fields: ['arr', 'name', 'body', 'else_'] });\nconst AsyncEach = For.extend('AsyncEach');\nconst AsyncAll = For.extend('AsyncAll');\nconst Macro = Node.extend('Macro', { fields: ['name', 'args', 'body'] });\nconst Caller = Macro.extend('Caller');\nconst Import = Node.extend('Import', { fields: ['template', 'target', 'withContext'] });\n\nclass FromImport extends Node {\n  get typename() { return 'FromImport'; }\n  get fields() { return ['template', 'names', 'withContext']; }\n\n  init(lineno, colno, template, names, withContext) {\n    super.init(lineno, colno, template, names || new NodeList(), withContext);\n  }\n}\n\nconst FunCall = Node.extend('FunCall', { fields: ['name', 'args'] });\nconst Filter = FunCall.extend('Filter');\nconst FilterAsync = Filter.extend('FilterAsync', { fields: ['name', 'args', 'symbol'] });\nconst KeywordArgs = Dict.extend('KeywordArgs');\nconst Block = Node.extend('Block', { fields: ['name', 'body'] });\nconst Super = Node.extend('Super', { fields: ['blockName', 'symbol'] });\nconst TemplateRef = Node.extend('TemplateRef', { fields: ['template'] });\nconst Extends = TemplateRef.extend('Extends');\nconst Include = Node.extend('Include', { fields: ['template', 'ignoreMissing'] });\nconst Set = Node.extend('Set', { fields: ['targets', 'value'] });\nconst Switch = Node.extend('Switch', { fields: ['expr', 'cases', 'default'] });\nconst Case = Node.extend('Case', { fields: ['cond', 'body'] });\nconst Output = NodeList.extend('Output');\nconst Capture = Node.extend('Capture', { fields: ['body'] });\nconst TemplateData = Literal.extend('TemplateData');\nconst UnaryOp = Node.extend('UnaryOp', { fields: ['target'] });\nconst BinOp = Node.extend('BinOp', { fields: ['left', 'right'] });\nconst In = BinOp.extend('In');\nconst Is = BinOp.extend('Is');\nconst Or = BinOp.extend('Or');\nconst And = BinOp.extend('And');\nconst Not = UnaryOp.extend('Not');\nconst Add = BinOp.extend('Add');\nconst Concat = BinOp.extend('Concat');\nconst Sub = BinOp.extend('Sub');\nconst Mul = BinOp.extend('Mul');\nconst Div = BinOp.extend('Div');\nconst FloorDiv = BinOp.extend('FloorDiv');\nconst Mod = BinOp.extend('Mod');\nconst Pow = BinOp.extend('Pow');\nconst Neg = UnaryOp.extend('Neg');\nconst Pos = UnaryOp.extend('Pos');\nconst Compare = Node.extend('Compare', { fields: ['expr', 'ops'] });\nconst CompareOperand = Node.extend('CompareOperand', { fields: ['expr', 'type'] });\nconst CallExtension = Node.extend('CallExtension', {\n  init(ext, prop, args, contentArgs) {\n    this.parent();\n    this.extName = ext.__name || ext;\n    this.prop = prop;\n    this.args = args || new NodeList();\n    this.contentArgs = contentArgs || [];\n    this.autoescape = ext.autoescape;\n  },\n  fields: ['extName', 'prop', 'args', 'contentArgs']\n});\nconst CallExtensionAsync = CallExtension.extend('CallExtensionAsync');\n\n// This is hacky, but this is just a debugging function anyway\nfunction print(str, indent, inline) {\n  var lines = str.split('\\n');\n\n  lines.forEach((line, i) => {\n    if (line && ((inline && i > 0) || !inline)) {\n      process.stdout.write((' ').repeat(indent));\n    }\n    const nl = (i === lines.length - 1) ? '' : '\\n';\n    process.stdout.write(`${line}${nl}`);\n  });\n}\n\n// Print the AST in a nicely formatted tree format for debuggin\nfunction printNodes(node, indent) {\n  indent = indent || 0;\n\n  print(node.typename + ': ', indent);\n\n  if (node instanceof NodeList) {\n    print('\\n');\n    node.children.forEach((n) => {\n      printNodes(n, indent + 2);\n    });\n  } else if (node instanceof CallExtension) {\n    print(`${node.extName}.${node.prop}\\n`);\n\n    if (node.args) {\n      printNodes(node.args, indent + 2);\n    }\n\n    if (node.contentArgs) {\n      node.contentArgs.forEach((n) => {\n        printNodes(n, indent + 2);\n      });\n    }\n  } else {\n    let nodes = [];\n    let props = null;\n\n    node.iterFields((val, fieldName) => {\n      if (val instanceof Node) {\n        nodes.push([fieldName, val]);\n      } else {\n        props = props || {};\n        props[fieldName] = val;\n      }\n    });\n\n    if (props) {\n      print(JSON.stringify(props, null, 2) + '\\n', null, true);\n    } else {\n      print('\\n');\n    }\n\n    nodes.forEach(([fieldName, n]) => {\n      print(`[${fieldName}] =>`, indent + 2);\n      printNodes(n, indent + 4);\n    });\n  }\n}\n\nmodule.exports = {\n  Node: Node,\n  Root: Root,\n  NodeList: NodeList,\n  Value: Value,\n  Literal: Literal,\n  Symbol: Symbol,\n  Group: Group,\n  Array: ArrayNode,\n  Pair: Pair,\n  Dict: Dict,\n  Output: Output,\n  Capture: Capture,\n  TemplateData: TemplateData,\n  If: If,\n  IfAsync: IfAsync,\n  InlineIf: InlineIf,\n  For: For,\n  AsyncEach: AsyncEach,\n  AsyncAll: AsyncAll,\n  Macro: Macro,\n  Caller: Caller,\n  Import: Import,\n  FromImport: FromImport,\n  FunCall: FunCall,\n  Filter: Filter,\n  FilterAsync: FilterAsync,\n  KeywordArgs: KeywordArgs,\n  Block: Block,\n  Super: Super,\n  Extends: Extends,\n  Include: Include,\n  Set: Set,\n  Switch: Switch,\n  Case: Case,\n  LookupVal: LookupVal,\n  BinOp: BinOp,\n  In: In,\n  Is: Is,\n  Or: Or,\n  And: And,\n  Not: Not,\n  Add: Add,\n  Concat: Concat,\n  Sub: Sub,\n  Mul: Mul,\n  Div: Div,\n  FloorDiv: FloorDiv,\n  Mod: Mod,\n  Pow: Pow,\n  Neg: Neg,\n  Pos: Pos,\n  Compare: Compare,\n  CompareOperand: CompareOperand,\n\n  CallExtension: CallExtension,\n  CallExtensionAsync: CallExtensionAsync,\n\n  printNodes: printNodes\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/nodes.js","'use strict';\n\nconst parser = require('./parser');\nconst transformer = require('./transformer');\nconst nodes = require('./nodes');\nconst {TemplateError} = require('./lib');\nconst {Frame} = require('./runtime');\nconst {Obj} = require('./object');\n\n// These are all the same for now, but shouldn't be passed straight\n// through\nconst compareOps = {\n  '==': '==',\n  '===': '===',\n  '!=': '!=',\n  '!==': '!==',\n  '<': '<',\n  '>': '>',\n  '<=': '<=',\n  '>=': '>='\n};\n\nclass Compiler extends Obj {\n  init(templateName, throwOnUndefined) {\n    this.templateName = templateName;\n    this.codebuf = [];\n    this.lastId = 0;\n    this.buffer = null;\n    this.bufferStack = [];\n    this._scopeClosers = '';\n    this.inBlock = false;\n    this.throwOnUndefined = throwOnUndefined;\n  }\n\n  fail(msg, lineno, colno) {\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n\n    throw new TemplateError(msg, lineno, colno);\n  }\n\n  _pushBuffer() {\n    const id = this._tmpid();\n    this.bufferStack.push(this.buffer);\n    this.buffer = id;\n    this._emit(`var ${this.buffer} = \"\";`);\n    return id;\n  }\n\n  _popBuffer() {\n    this.buffer = this.bufferStack.pop();\n  }\n\n  _emit(code) {\n    this.codebuf.push(code);\n  }\n\n  _emitLine(code) {\n    this._emit(code + '\\n');\n  }\n\n  _emitLines(...lines) {\n    lines.forEach((line) => this._emitLine(line));\n  }\n\n  _emitFuncBegin(node, name) {\n    this.buffer = 'output';\n    this._scopeClosers = '';\n    this._emitLine(`function ${name}(env, context, frame, runtime, cb) {`);\n    this._emitLine(`var lineno = ${node.lineno};`);\n    this._emitLine(`var colno = ${node.colno};`);\n    this._emitLine(`var ${this.buffer} = \"\";`);\n    this._emitLine('try {');\n  }\n\n  _emitFuncEnd(noReturn) {\n    if (!noReturn) {\n      this._emitLine('cb(null, ' + this.buffer + ');');\n    }\n\n    this._closeScopeLevels();\n    this._emitLine('} catch (e) {');\n    this._emitLine('  cb(runtime.handleError(e, lineno, colno));');\n    this._emitLine('}');\n    this._emitLine('}');\n    this.buffer = null;\n  }\n\n  _addScopeLevel() {\n    this._scopeClosers += '})';\n  }\n\n  _closeScopeLevels() {\n    this._emitLine(this._scopeClosers + ';');\n    this._scopeClosers = '';\n  }\n\n  _withScopedSyntax(func) {\n    var _scopeClosers = this._scopeClosers;\n    this._scopeClosers = '';\n\n    func.call(this);\n\n    this._closeScopeLevels();\n    this._scopeClosers = _scopeClosers;\n  }\n\n  _makeCallback(res) {\n    var err = this._tmpid();\n\n    return 'function(' + err + (res ? ',' + res : '') + ') {\\n' +\n      'if(' + err + ') { cb(' + err + '); return; }';\n  }\n\n  _tmpid() {\n    this.lastId++;\n    return 't_' + this.lastId;\n  }\n\n  _templateName() {\n    return this.templateName == null ? 'undefined' : JSON.stringify(this.templateName);\n  }\n\n  _compileChildren(node, frame) {\n    node.children.forEach((child) => {\n      this.compile(child, frame);\n    });\n  }\n\n  _compileAggregate(node, frame, startChar, endChar) {\n    if (startChar) {\n      this._emit(startChar);\n    }\n\n    node.children.forEach((child, i) => {\n      if (i > 0) {\n        this._emit(',');\n      }\n\n      this.compile(child, frame);\n    });\n\n    if (endChar) {\n      this._emit(endChar);\n    }\n  }\n\n  _compileExpression(node, frame) {\n    // TODO: I'm not really sure if this type check is worth it or\n    // not.\n    this.assertType(\n      node,\n      nodes.Literal,\n      nodes.Symbol,\n      nodes.Group,\n      nodes.Array,\n      nodes.Dict,\n      nodes.FunCall,\n      nodes.Caller,\n      nodes.Filter,\n      nodes.LookupVal,\n      nodes.Compare,\n      nodes.InlineIf,\n      nodes.In,\n      nodes.Is,\n      nodes.And,\n      nodes.Or,\n      nodes.Not,\n      nodes.Add,\n      nodes.Concat,\n      nodes.Sub,\n      nodes.Mul,\n      nodes.Div,\n      nodes.FloorDiv,\n      nodes.Mod,\n      nodes.Pow,\n      nodes.Neg,\n      nodes.Pos,\n      nodes.Compare,\n      nodes.NodeList\n    );\n    this.compile(node, frame);\n  }\n\n  assertType(node, ...types) {\n    if (!types.some(t => node instanceof t)) {\n      this.fail(`assertType: invalid type: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n\n  compileCallExtension(node, frame, async) {\n    var args = node.args;\n    var contentArgs = node.contentArgs;\n    var autoescape = typeof node.autoescape === 'boolean' ? node.autoescape : true;\n\n    if (!async) {\n      this._emit(`${this.buffer} += runtime.suppressValue(`);\n    }\n\n    this._emit(`env.getExtension(\"${node.extName}\")[\"${node.prop}\"](`);\n    this._emit('context');\n\n    if (args || contentArgs) {\n      this._emit(',');\n    }\n\n    if (args) {\n      if (!(args instanceof nodes.NodeList)) {\n        this.fail('compileCallExtension: arguments must be a NodeList, ' +\n          'use `parser.parseSignature`');\n      }\n\n      args.children.forEach((arg, i) => {\n        // Tag arguments are passed normally to the call. Note\n        // that keyword arguments are turned into a single js\n        // object as the last argument, if they exist.\n        this._compileExpression(arg, frame);\n\n        if (i !== args.children.length - 1 || contentArgs.length) {\n          this._emit(',');\n        }\n      });\n    }\n\n    if (contentArgs.length) {\n      contentArgs.forEach((arg, i) => {\n        if (i > 0) {\n          this._emit(',');\n        }\n\n        if (arg) {\n          this._emitLine('function(cb) {');\n          this._emitLine('if(!cb) { cb = function(err) { if(err) { throw err; }}}');\n          const id = this._pushBuffer();\n\n          this._withScopedSyntax(() => {\n            this.compile(arg, frame);\n            this._emitLine(`cb(null, ${id});`);\n          });\n\n          this._popBuffer();\n          this._emitLine(`return ${id};`);\n          this._emitLine('}');\n        } else {\n          this._emit('null');\n        }\n      });\n    }\n\n    if (async) {\n      const res = this._tmpid();\n      this._emitLine(', ' + this._makeCallback(res));\n      this._emitLine(\n        `${this.buffer} += runtime.suppressValue(${res}, ${autoescape} && env.opts.autoescape);`);\n      this._addScopeLevel();\n    } else {\n      this._emit(')');\n      this._emit(`, ${autoescape} && env.opts.autoescape);\\n`);\n    }\n  }\n\n  compileCallExtensionAsync(node, frame) {\n    this.compileCallExtension(node, frame, true);\n  }\n\n  compileNodeList(node, frame) {\n    this._compileChildren(node, frame);\n  }\n\n  compileLiteral(node) {\n    if (typeof node.value === 'string') {\n      let val = node.value.replace(/\\\\/g, '\\\\\\\\');\n      val = val.replace(/\"/g, '\\\\\"');\n      val = val.replace(/\\n/g, '\\\\n');\n      val = val.replace(/\\r/g, '\\\\r');\n      val = val.replace(/\\t/g, '\\\\t');\n      val = val.replace(/\\u2028/g, '\\\\u2028');\n      this._emit(`\"${val}\"`);\n    } else if (node.value === null) {\n      this._emit('null');\n    } else {\n      this._emit(node.value.toString());\n    }\n  }\n\n  compileSymbol(node, frame) {\n    var name = node.value;\n    var v = frame.lookup(name);\n\n    if (v) {\n      this._emit(v);\n    } else {\n      this._emit('runtime.contextOrFrameLookup(' +\n        'context, frame, \"' + name + '\")');\n    }\n  }\n\n  compileGroup(node, frame) {\n    this._compileAggregate(node, frame, '(', ')');\n  }\n\n  compileArray(node, frame) {\n    this._compileAggregate(node, frame, '[', ']');\n  }\n\n  compileDict(node, frame) {\n    this._compileAggregate(node, frame, '{', '}');\n  }\n\n  compilePair(node, frame) {\n    var key = node.key;\n    var val = node.value;\n\n    if (key instanceof nodes.Symbol) {\n      key = new nodes.Literal(key.lineno, key.colno, key.value);\n    } else if (!(key instanceof nodes.Literal &&\n      typeof key.value === 'string')) {\n      this.fail('compilePair: Dict keys must be strings or names',\n        key.lineno,\n        key.colno);\n    }\n\n    this.compile(key, frame);\n    this._emit(': ');\n    this._compileExpression(val, frame);\n  }\n\n  compileInlineIf(node, frame) {\n    this._emit('(');\n    this.compile(node.cond, frame);\n    this._emit('?');\n    this.compile(node.body, frame);\n    this._emit(':');\n    if (node.else_ !== null) {\n      this.compile(node.else_, frame);\n    } else {\n      this._emit('\"\"');\n    }\n    this._emit(')');\n  }\n\n  compileIn(node, frame) {\n    this._emit('runtime.inOperator(');\n    this.compile(node.left, frame);\n    this._emit(',');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compileIs(node, frame) {\n    // first, we need to try to get the name of the test function, if it's a\n    // callable (i.e., has args) and not a symbol.\n    var right = node.right.name\n      ? node.right.name.value\n      // otherwise go with the symbol value\n      : node.right.value;\n    this._emit('env.getTest(\"' + right + '\").call(context, ');\n    this.compile(node.left, frame);\n    // compile the arguments for the callable if they exist\n    if (node.right.args) {\n      this._emit(',');\n      this.compile(node.right.args, frame);\n    }\n    this._emit(') === true');\n  }\n\n  _binOpEmitter(node, frame, str) {\n    this.compile(node.left, frame);\n    this._emit(str);\n    this.compile(node.right, frame);\n  }\n\n  // ensure concatenation instead of addition\n  // by adding empty string in between\n  compileOr(node, frame) {\n    return this._binOpEmitter(node, frame, ' || ');\n  }\n\n  compileAnd(node, frame) {\n    return this._binOpEmitter(node, frame, ' && ');\n  }\n\n  compileAdd(node, frame) {\n    return this._binOpEmitter(node, frame, ' + ');\n  }\n\n  compileConcat(node, frame) {\n    return this._binOpEmitter(node, frame, ' + \"\" + ');\n  }\n\n  compileSub(node, frame) {\n    return this._binOpEmitter(node, frame, ' - ');\n  }\n\n  compileMul(node, frame) {\n    return this._binOpEmitter(node, frame, ' * ');\n  }\n\n  compileDiv(node, frame) {\n    return this._binOpEmitter(node, frame, ' / ');\n  }\n\n  compileMod(node, frame) {\n    return this._binOpEmitter(node, frame, ' % ');\n  }\n\n  compileNot(node, frame) {\n    this._emit('!');\n    this.compile(node.target, frame);\n  }\n\n  compileFloorDiv(node, frame) {\n    this._emit('Math.floor(');\n    this.compile(node.left, frame);\n    this._emit(' / ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compilePow(node, frame) {\n    this._emit('Math.pow(');\n    this.compile(node.left, frame);\n    this._emit(', ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  compileNeg(node, frame) {\n    this._emit('-');\n    this.compile(node.target, frame);\n  }\n\n  compilePos(node, frame) {\n    this._emit('+');\n    this.compile(node.target, frame);\n  }\n\n  compileCompare(node, frame) {\n    this.compile(node.expr, frame);\n\n    node.ops.forEach((op) => {\n      this._emit(` ${compareOps[op.type]} `);\n      this.compile(op.expr, frame);\n    });\n  }\n\n  compileLookupVal(node, frame) {\n    this._emit('runtime.memberLookup((');\n    this._compileExpression(node.target, frame);\n    this._emit('),');\n    this._compileExpression(node.val, frame);\n    this._emit(')');\n  }\n\n  _getNodeName(node) {\n    switch (node.typename) {\n      case 'Symbol':\n        return node.value;\n      case 'FunCall':\n        return 'the return value of (' + this._getNodeName(node.name) + ')';\n      case 'LookupVal':\n        return this._getNodeName(node.target) + '[\"' +\n          this._getNodeName(node.val) + '\"]';\n      case 'Literal':\n        return node.value.toString();\n      default:\n        return '--expression--';\n    }\n  }\n\n  compileFunCall(node, frame) {\n    // Keep track of line/col info at runtime by settings\n    // variables within an expression. An expression in javascript\n    // like (x, y, z) returns the last value, and x and y can be\n    // anything\n    this._emit('(lineno = ' + node.lineno +\n      ', colno = ' + node.colno + ', ');\n\n    this._emit('runtime.callWrap(');\n    // Compile it as normal.\n    this._compileExpression(node.name, frame);\n\n    // Output the name of what we're calling so we can get friendly errors\n    // if the lookup fails.\n    this._emit(', \"' + this._getNodeName(node.name).replace(/\"/g, '\\\\\"') + '\", context, ');\n\n    this._compileAggregate(node.args, frame, '[', '])');\n\n    this._emit(')');\n  }\n\n  compileFilter(node, frame) {\n    var name = node.name;\n    this.assertType(name, nodes.Symbol);\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emit(')');\n  }\n\n  compileFilterAsync(node, frame) {\n    var name = node.name;\n    var symbol = node.symbol.value;\n\n    this.assertType(name, nodes.Symbol);\n\n    frame.set(symbol, symbol);\n\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emitLine(', ' + this._makeCallback(symbol));\n\n    this._addScopeLevel();\n  }\n\n  compileKeywordArgs(node, frame) {\n    this._emit('runtime.makeKeywordArgs(');\n    this.compileDict(node, frame);\n    this._emit(')');\n  }\n\n  compileSet(node, frame) {\n    var ids = [];\n\n    // Lookup the variable names for each identifier and create\n    // new ones if necessary\n    node.targets.forEach((target) => {\n      var name = target.value;\n      var id = frame.lookup(name);\n\n      if (id === null || id === undefined) {\n        id = this._tmpid();\n\n        // Note: This relies on js allowing scope across\n        // blocks, in case this is created inside an `if`\n        this._emitLine('var ' + id + ';');\n      }\n\n      ids.push(id);\n    });\n\n    if (node.value) {\n      this._emit(ids.join(' = ') + ' = ');\n      this._compileExpression(node.value, frame);\n      this._emitLine(';');\n    } else {\n      this._emit(ids.join(' = ') + ' = ');\n      this.compile(node.body, frame);\n      this._emitLine(';');\n    }\n\n    node.targets.forEach((target, i) => {\n      var id = ids[i];\n      var name = target.value;\n\n      // We are running this for every var, but it's very\n      // uncommon to assign to multiple vars anyway\n      this._emitLine(`frame.set(\"${name}\", ${id}, true);`);\n\n      this._emitLine('if(frame.topLevel) {');\n      this._emitLine(`context.setVariable(\"${name}\", ${id});`);\n      this._emitLine('}');\n\n      if (name.charAt(0) !== '_') {\n        this._emitLine('if(frame.topLevel) {');\n        this._emitLine(`context.addExport(\"${name}\", ${id});`);\n        this._emitLine('}');\n      }\n    });\n  }\n\n  compileSwitch(node, frame) {\n    this._emit('switch (');\n    this.compile(node.expr, frame);\n    this._emit(') {');\n    node.cases.forEach((c, i) => {\n      this._emit('case ');\n      this.compile(c.cond, frame);\n      this._emit(': ');\n      this.compile(c.body, frame);\n      // preserve fall-throughs\n      if (c.body.children.length) {\n        this._emitLine('break;');\n      }\n    });\n    if (node.default) {\n      this._emit('default:');\n      this.compile(node.default, frame);\n    }\n    this._emit('}');\n  }\n\n  compileIf(node, frame, async) {\n    this._emit('if(');\n    this._compileExpression(node.cond, frame);\n    this._emitLine(') {');\n\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n\n      if (async) {\n        this._emit('cb()');\n      }\n    });\n\n    if (node.else_) {\n      this._emitLine('}\\nelse {');\n\n      this._withScopedSyntax(() => {\n        this.compile(node.else_, frame);\n\n        if (async) {\n          this._emit('cb()');\n        }\n      });\n    } else if (async) {\n      this._emitLine('}\\nelse {');\n      this._emit('cb()');\n    }\n\n    this._emitLine('}');\n  }\n\n  compileIfAsync(node, frame) {\n    this._emit('(function(cb) {');\n    this.compileIf(node, frame, true);\n    this._emit('})(' + this._makeCallback());\n    this._addScopeLevel();\n  }\n\n  _emitLoopBindings(node, arr, i, len) {\n    const bindings = [\n      {name: 'index', val: `${i} + 1`},\n      {name: 'index0', val: i},\n      {name: 'revindex', val: `${len} - ${i}`},\n      {name: 'revindex0', val: `${len} - ${i} - 1`},\n      {name: 'first', val: `${i} === 0`},\n      {name: 'last', val: `${i} === ${len} - 1`},\n      {name: 'length', val: len},\n    ];\n\n    bindings.forEach((b) => {\n      this._emitLine(`frame.set(\"loop.${b.name}\", ${b.val});`);\n    });\n  }\n\n  compileFor(node, frame) {\n    // Some of this code is ugly, but it keeps the generated code\n    // as fast as possible. ForAsync also shares some of this, but\n    // not much.\n\n    const i = this._tmpid();\n    const len = this._tmpid();\n    const arr = this._tmpid();\n    frame = frame.push();\n\n    this._emitLine('frame = frame.push();');\n\n    this._emit(`var ${arr} = `);\n    this._compileExpression(node.arr, frame);\n    this._emitLine(';');\n\n    this._emit(`if(${arr}) {`);\n    this._emitLine(arr + ' = runtime.fromIterator(' + arr + ');');\n\n    // If multiple names are passed, we need to bind them\n    // appropriately\n    if (node.name instanceof nodes.Array) {\n      this._emitLine(`var ${i};`);\n\n      // The object could be an arroy or object. Note that the\n      // body of the loop is duplicated for each condition, but\n      // we are optimizing for speed over size.\n      this._emitLine(`if(runtime.isArray(${arr})) {`);\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n\n      // Bind each declared var\n      node.name.children.forEach((child, u) => {\n        var tid = this._tmpid();\n        this._emitLine(`var ${tid} = ${arr}[${i}][${u}];`);\n        this._emitLine(`frame.set(\"${child}\", ${arr}[${i}][${u}]);`);\n        frame.set(node.name.children[u].value, tid);\n      });\n\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n\n      this._emitLine('} else {');\n      // Iterate over the key/values of an object\n      const [key, val] = node.name.children;\n      const k = this._tmpid();\n      const v = this._tmpid();\n      frame.set(key.value, k);\n      frame.set(val.value, v);\n\n      this._emitLine(`${i} = -1;`);\n      this._emitLine(`var ${len} = runtime.keys(${arr}).length;`);\n      this._emitLine(`for(var ${k} in ${arr}) {`);\n      this._emitLine(`${i}++;`);\n      this._emitLine(`var ${v} = ${arr}[${k}];`);\n      this._emitLine(`frame.set(\"${key.value}\", ${k});`);\n      this._emitLine(`frame.set(\"${val.value}\", ${v});`);\n\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n\n      this._emitLine('}');\n    } else {\n      // Generate a typical array iteration\n      const v = this._tmpid();\n      frame.set(node.name.value, v);\n\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(var ${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n      this._emitLine(`var ${v} = ${arr}[${i}];`);\n      this._emitLine(`frame.set(\"${node.name.value}\", ${v});`);\n\n      this._emitLoopBindings(node, arr, i, len);\n\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n\n      this._emitLine('}');\n    }\n\n    this._emitLine('}');\n    if (node.else_) {\n      this._emitLine('if (!' + len + ') {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n\n    this._emitLine('frame = frame.pop();');\n  }\n\n  _compileAsyncLoop(node, frame, parallel) {\n    // This shares some code with the For tag, but not enough to\n    // worry about. This iterates across an object asynchronously,\n    // but not in parallel.\n\n    var i = this._tmpid();\n    var len = this._tmpid();\n    var arr = this._tmpid();\n    var asyncMethod = parallel ? 'asyncAll' : 'asyncEach';\n    frame = frame.push();\n\n    this._emitLine('frame = frame.push();');\n\n    this._emit('var ' + arr + ' = runtime.fromIterator(');\n    this._compileExpression(node.arr, frame);\n    this._emitLine(');');\n\n    if (node.name instanceof nodes.Array) {\n      const arrayLen = node.name.children.length;\n      this._emit(`runtime.${asyncMethod}(${arr}, ${arrayLen}, function(`);\n\n      node.name.children.forEach((name) => {\n        this._emit(`${name.value},`);\n      });\n\n      this._emit(i + ',' + len + ',next) {');\n\n      node.name.children.forEach((name) => {\n        const id = name.value;\n        frame.set(id, id);\n        this._emitLine(`frame.set(\"${id}\", ${id});`);\n      });\n    } else {\n      const id = node.name.value;\n      this._emitLine(`runtime.${asyncMethod}(${arr}, 1, function(${id}, ${i}, ${len},next) {`);\n      this._emitLine('frame.set(\"' + id + '\", ' + id + ');');\n      frame.set(id, id);\n    }\n\n    this._emitLoopBindings(node, arr, i, len);\n\n    this._withScopedSyntax(() => {\n      let buf;\n      if (parallel) {\n        buf = this._pushBuffer();\n      }\n\n      this.compile(node.body, frame);\n      this._emitLine('next(' + i + (buf ? ',' + buf : '') + ');');\n\n      if (parallel) {\n        this._popBuffer();\n      }\n    });\n\n    const output = this._tmpid();\n    this._emitLine('}, ' + this._makeCallback(output));\n    this._addScopeLevel();\n\n    if (parallel) {\n      this._emitLine(this.buffer + ' += ' + output + ';');\n    }\n\n    if (node.else_) {\n      this._emitLine('if (!' + arr + '.length) {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n\n    this._emitLine('frame = frame.pop();');\n  }\n\n  compileAsyncEach(node, frame) {\n    this._compileAsyncLoop(node, frame);\n  }\n\n  compileAsyncAll(node, frame) {\n    this._compileAsyncLoop(node, frame, true);\n  }\n\n  _compileMacro(node, frame) {\n    var args = [];\n    var kwargs = null;\n    var funcId = 'macro_' + this._tmpid();\n    var keepFrame = (frame !== undefined);\n\n    // Type check the definition of the args\n    node.args.children.forEach((arg, i) => {\n      if (i === node.args.children.length - 1 && arg instanceof nodes.Dict) {\n        kwargs = arg;\n      } else {\n        this.assertType(arg, nodes.Symbol);\n        args.push(arg);\n      }\n    });\n\n    const realNames = [...args.map((n) => `l_${n.value}`), 'kwargs'];\n\n    // Quoted argument names\n    const argNames = args.map((n) => `\"${n.value}\"`);\n    const kwargNames = ((kwargs && kwargs.children) || []).map((n) => `\"${n.key.value}\"`);\n\n    // We pass a function to makeMacro which destructures the\n    // arguments so support setting positional args with keywords\n    // args and passing keyword args as positional args\n    // (essentially default values). See runtime.js.\n    let currFrame;\n    if (keepFrame) {\n      currFrame = frame.push(true);\n    } else {\n      currFrame = new Frame();\n    }\n    this._emitLines(\n      `var ${funcId} = runtime.makeMacro(`,\n      `[${argNames.join(', ')}], `,\n      `[${kwargNames.join(', ')}], `,\n      `function (${realNames.join(', ')}) {`,\n      'var callerFrame = frame;',\n      'frame = ' + ((keepFrame) ? 'frame.push(true);' : 'new runtime.Frame();'),\n      'kwargs = kwargs || {};',\n      'if (Object.prototype.hasOwnProperty.call(kwargs, \"caller\")) {',\n      'frame.set(\"caller\", kwargs.caller); }');\n\n    // Expose the arguments to the template. Don't need to use\n    // random names because the function\n    // will create a new run-time scope for us\n    args.forEach((arg) => {\n      this._emitLine(`frame.set(\"${arg.value}\", l_${arg.value});`);\n      currFrame.set(arg.value, `l_${arg.value}`);\n    });\n\n    // Expose the keyword arguments\n    if (kwargs) {\n      kwargs.children.forEach((pair) => {\n        const name = pair.key.value;\n        this._emit(`frame.set(\"${name}\", `);\n        this._emit(`Object.prototype.hasOwnProperty.call(kwargs, \"${name}\")`);\n        this._emit(` ? kwargs[\"${name}\"] : `);\n        this._compileExpression(pair.value, currFrame);\n        this._emit(');');\n      });\n    }\n\n    const bufferId = this._pushBuffer();\n\n    this._withScopedSyntax(() => {\n      this.compile(node.body, currFrame);\n    });\n\n    this._emitLine('frame = ' + ((keepFrame) ? 'frame.pop();' : 'callerFrame;'));\n    this._emitLine(`return new runtime.SafeString(${bufferId});`);\n    this._emitLine('});');\n    this._popBuffer();\n\n    return funcId;\n  }\n\n  compileMacro(node, frame) {\n    var funcId = this._compileMacro(node);\n\n    // Expose the macro to the templates\n    var name = node.name.value;\n    frame.set(name, funcId);\n\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${name}\", ${funcId});`);\n    } else {\n      if (node.name.value.charAt(0) !== '_') {\n        this._emitLine(`context.addExport(\"${name}\");`);\n      }\n      this._emitLine(`context.setVariable(\"${name}\", ${funcId});`);\n    }\n  }\n\n  compileCaller(node, frame) {\n    // basically an anonymous \"macro expression\"\n    this._emit('(function (){');\n    const funcId = this._compileMacro(node, frame);\n    this._emit(`return ${funcId};})()`);\n  }\n\n  _compileGetTemplate(node, frame, eagerCompile, ignoreMissing) {\n    const parentTemplateId = this._tmpid();\n    const parentName = this._templateName();\n    const cb = this._makeCallback(parentTemplateId);\n    const eagerCompileArg = (eagerCompile) ? 'true' : 'false';\n    const ignoreMissingArg = (ignoreMissing) ? 'true' : 'false';\n    this._emit('env.getTemplate(');\n    this._compileExpression(node.template, frame);\n    this._emitLine(`, ${eagerCompileArg}, ${parentName}, ${ignoreMissingArg}, ${cb}`);\n    return parentTemplateId;\n  }\n\n  compileImport(node, frame) {\n    const target = node.target.value;\n    const id = this._compileGetTemplate(node, frame, false, false);\n    this._addScopeLevel();\n\n    this._emitLine(id + '.getExported(' +\n      (node.withContext ? 'context.getVariables(), frame, ' : '') +\n      this._makeCallback(id));\n    this._addScopeLevel();\n\n    frame.set(target, id);\n\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${target}\", ${id});`);\n    } else {\n      this._emitLine(`context.setVariable(\"${target}\", ${id});`);\n    }\n  }\n\n  compileFromImport(node, frame) {\n    const importedId = this._compileGetTemplate(node, frame, false, false);\n    this._addScopeLevel();\n\n    this._emitLine(importedId + '.getExported(' +\n      (node.withContext ? 'context.getVariables(), frame, ' : '') +\n      this._makeCallback(importedId));\n    this._addScopeLevel();\n\n    node.names.children.forEach((nameNode) => {\n      var name;\n      var alias;\n      var id = this._tmpid();\n\n      if (nameNode instanceof nodes.Pair) {\n        name = nameNode.key.value;\n        alias = nameNode.value.value;\n      } else {\n        name = nameNode.value;\n        alias = name;\n      }\n\n      this._emitLine(`if(Object.prototype.hasOwnProperty.call(${importedId}, \"${name}\")) {`);\n      this._emitLine(`var ${id} = ${importedId}.${name};`);\n      this._emitLine('} else {');\n      this._emitLine(`cb(new Error(\"cannot import '${name}'\")); return;`);\n      this._emitLine('}');\n\n      frame.set(alias, id);\n\n      if (frame.parent) {\n        this._emitLine(`frame.set(\"${alias}\", ${id});`);\n      } else {\n        this._emitLine(`context.setVariable(\"${alias}\", ${id});`);\n      }\n    });\n  }\n\n  compileBlock(node) {\n    var id = this._tmpid();\n\n    // If we are executing outside a block (creating a top-level\n    // block), we really don't want to execute its code because it\n    // will execute twice: once when the child template runs and\n    // again when the parent template runs. Note that blocks\n    // within blocks will *always* execute immediately *and*\n    // wherever else they are invoked (like used in a parent\n    // template). This may have behavioral differences from jinja\n    // because blocks can have side effects, but it seems like a\n    // waste of performance to always execute huge top-level\n    // blocks twice\n    if (!this.inBlock) {\n      this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(\"\"); } : ');\n    }\n    this._emit(`context.getBlock(\"${node.name.value}\")`);\n    if (!this.inBlock) {\n      this._emit(')');\n    }\n    this._emitLine('(env, context, frame, runtime, ' + this._makeCallback(id));\n    this._emitLine(`${this.buffer} += ${id};`);\n    this._addScopeLevel();\n  }\n\n  compileSuper(node, frame) {\n    var name = node.blockName.value;\n    var id = node.symbol.value;\n\n    const cb = this._makeCallback(id);\n    this._emitLine(`context.getSuper(env, \"${name}\", b_${name}, frame, runtime, ${cb}`);\n    this._emitLine(`${id} = runtime.markSafe(${id});`);\n    this._addScopeLevel();\n    frame.set(id, id);\n  }\n\n  compileExtends(node, frame) {\n    var k = this._tmpid();\n\n    const parentTemplateId = this._compileGetTemplate(node, frame, true, false);\n\n    // extends is a dynamic tag and can occur within a block like\n    // `if`, so if this happens we need to capture the parent\n    // template in the top-level scope\n    this._emitLine(`parentTemplate = ${parentTemplateId}`);\n\n    this._emitLine(`for(var ${k} in parentTemplate.blocks) {`);\n    this._emitLine(`context.addBlock(${k}, parentTemplate.blocks[${k}]);`);\n    this._emitLine('}');\n\n    this._addScopeLevel();\n  }\n\n  compileInclude(node, frame) {\n    this._emitLine('var tasks = [];');\n    this._emitLine('tasks.push(');\n    this._emitLine('function(callback) {');\n    const id = this._compileGetTemplate(node, frame, false, node.ignoreMissing);\n    this._emitLine(`callback(null,${id});});`);\n    this._emitLine('});');\n\n    const id2 = this._tmpid();\n    this._emitLine('tasks.push(');\n    this._emitLine('function(template, callback){');\n    this._emitLine('template.render(context.getVariables(), frame, ' + this._makeCallback(id2));\n    this._emitLine('callback(null,' + id2 + ');});');\n    this._emitLine('});');\n\n    this._emitLine('tasks.push(');\n    this._emitLine('function(result, callback){');\n    this._emitLine(`${this.buffer} += result;`);\n    this._emitLine('callback(null);');\n    this._emitLine('});');\n    this._emitLine('env.waterfall(tasks, function(){');\n    this._addScopeLevel();\n  }\n\n  compileTemplateData(node, frame) {\n    this.compileLiteral(node, frame);\n  }\n\n  compileCapture(node, frame) {\n    // we need to temporarily override the current buffer id as 'output'\n    // so the set block writes to the capture output instead of the buffer\n    var buffer = this.buffer;\n    this.buffer = 'output';\n    this._emitLine('(function() {');\n    this._emitLine('var output = \"\";');\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n    });\n    this._emitLine('return output;');\n    this._emitLine('})()');\n    // and of course, revert back to the old buffer id\n    this.buffer = buffer;\n  }\n\n  compileOutput(node, frame) {\n    const children = node.children;\n    children.forEach(child => {\n      // TemplateData is a special case because it is never\n      // autoescaped, so simply output it for optimization\n      if (child instanceof nodes.TemplateData) {\n        if (child.value) {\n          this._emit(`${this.buffer} += `);\n          this.compileLiteral(child, frame);\n          this._emitLine(';');\n        }\n      } else {\n        this._emit(`${this.buffer} += runtime.suppressValue(`);\n        if (this.throwOnUndefined) {\n          this._emit('runtime.ensureDefined(');\n        }\n        this.compile(child, frame);\n        if (this.throwOnUndefined) {\n          this._emit(`,${node.lineno},${node.colno})`);\n        }\n        this._emit(', env.opts.autoescape);\\n');\n      }\n    });\n  }\n\n  compileRoot(node, frame) {\n    if (frame) {\n      this.fail('compileRoot: root node can\\'t have frame');\n    }\n\n    frame = new Frame();\n\n    this._emitFuncBegin(node, 'root');\n    this._emitLine('var parentTemplate = null;');\n    this._compileChildren(node, frame);\n    this._emitLine('if(parentTemplate) {');\n    this._emitLine('parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);');\n    this._emitLine('} else {');\n    this._emitLine(`cb(null, ${this.buffer});`);\n    this._emitLine('}');\n    this._emitFuncEnd(true);\n\n    this.inBlock = true;\n\n    const blockNames = [];\n\n    const blocks = node.findAll(nodes.Block);\n\n    blocks.forEach((block, i) => {\n      const name = block.name.value;\n\n      if (blockNames.indexOf(name) !== -1) {\n        throw new Error(`Block \"${name}\" defined more than once.`);\n      }\n      blockNames.push(name);\n\n      this._emitFuncBegin(block, `b_${name}`);\n\n      const tmpFrame = new Frame();\n      this._emitLine('var frame = frame.push(true);');\n      this.compile(block.body, tmpFrame);\n      this._emitFuncEnd();\n    });\n\n    this._emitLine('return {');\n\n    blocks.forEach((block, i) => {\n      const blockName = `b_${block.name.value}`;\n      this._emitLine(`${blockName}: ${blockName},`);\n    });\n\n    this._emitLine('root: root\\n};');\n  }\n\n  compile(node, frame) {\n    var _compile = this['compile' + node.typename];\n    if (_compile) {\n      _compile.call(this, node, frame);\n    } else {\n      this.fail(`compile: Cannot compile node: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n\n  getCode() {\n    return this.codebuf.join('');\n  }\n}\n\nmodule.exports = {\n  compile: function compile(src, asyncFilters, extensions, name, opts = {}) {\n    const c = new Compiler(name, opts.throwOnUndefined);\n\n    // Run the extension preprocessors against the source.\n    const preprocessors = (extensions || []).map(ext => ext.preprocess).filter(f => !!f);\n\n    const processedSrc = preprocessors.reduce((s, processor) => processor(s), src);\n\n    c.compile(transformer.transform(\n      parser.parse(processedSrc, extensions, opts),\n      asyncFilters,\n      name\n    ));\n    return c.getCode();\n  },\n\n  Compiler: Compiler\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/compiler.js","'use strict';\n\nconst path = require('path');\nconst {EmitterObj} = require('./object');\n\nmodule.exports = class Loader extends EmitterObj {\n  resolve(from, to) {\n    return path.resolve(path.dirname(from), to);\n  }\n\n  isRelative(filename) {\n    return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/loader.js","'use strict';\n\nconst asap = require('asap');\nconst waterfall = require('a-sync-waterfall');\nconst lib = require('./lib');\nconst compiler = require('./compiler');\nconst filters = require('./filters');\nconst {FileSystemLoader, WebLoader, PrecompiledLoader} = require('./loaders');\nconst tests = require('./tests');\nconst globals = require('./globals');\nconst {Obj, EmitterObj} = require('./object');\nconst globalRuntime = require('./runtime');\nconst {handleError, Frame} = globalRuntime;\nconst expressApp = require('./express-app');\n\n// If the user is using the async API, *always* call it\n// asynchronously even if the template was synchronous.\nfunction callbackAsap(cb, err, res) {\n  asap(() => {\n    cb(err, res);\n  });\n}\n\n/**\n * A no-op template, for use with {% include ignore missing %}\n */\nconst noopTmplSrc = {\n  type: 'code',\n  obj: {\n    root(env, context, frame, runtime, cb) {\n      try {\n        cb(null, '');\n      } catch (e) {\n        cb(handleError(e, null, null));\n      }\n    }\n  }\n};\n\nclass Environment extends EmitterObj {\n  init(loaders, opts) {\n    // The dev flag determines the trace that'll be shown on errors.\n    // If set to true, returns the full trace from the error point,\n    // otherwise will return trace starting from Template.render\n    // (the full trace from within nunjucks may confuse developers using\n    //  the library)\n    // defaults to false\n    opts = this.opts = opts || {};\n    this.opts.dev = !!opts.dev;\n\n    // The autoescape flag sets global autoescaping. If true,\n    // every string variable will be escaped by default.\n    // If false, strings can be manually escaped using the `escape` filter.\n    // defaults to true\n    this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;\n\n    // If true, this will make the system throw errors if trying\n    // to output a null or undefined value\n    this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n    this.opts.trimBlocks = !!opts.trimBlocks;\n    this.opts.lstripBlocks = !!opts.lstripBlocks;\n\n    this.loaders = [];\n\n    if (!loaders) {\n      // The filesystem loader is only available server-side\n      if (FileSystemLoader) {\n        this.loaders = [new FileSystemLoader('views')];\n      } else if (WebLoader) {\n        this.loaders = [new WebLoader('/views')];\n      }\n    } else {\n      this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n    }\n\n    // It's easy to use precompiled templates: just include them\n    // before you configure nunjucks and this will automatically\n    // pick it up and use it\n    if (typeof window !== 'undefined' && window.nunjucksPrecompiled) {\n      this.loaders.unshift(\n        new PrecompiledLoader(window.nunjucksPrecompiled)\n      );\n    }\n\n    this._initLoaders();\n\n    this.globals = globals();\n    this.filters = {};\n    this.tests = {};\n    this.asyncFilters = [];\n    this.extensions = {};\n    this.extensionsList = [];\n\n    lib._entries(filters).forEach(([name, filter]) => this.addFilter(name, filter));\n    lib._entries(tests).forEach(([name, test]) => this.addTest(name, test));\n  }\n\n  _initLoaders() {\n    this.loaders.forEach((loader) => {\n      // Caching and cache busting\n      loader.cache = {};\n      if (typeof loader.on === 'function') {\n        loader.on('update', (name, fullname) => {\n          loader.cache[name] = null;\n          this.emit('update', name, fullname, loader);\n        });\n        loader.on('load', (name, source) => {\n          this.emit('load', name, source, loader);\n        });\n      }\n    });\n  }\n\n  invalidateCache() {\n    this.loaders.forEach((loader) => {\n      loader.cache = {};\n    });\n  }\n\n  addExtension(name, extension) {\n    extension.__name = name;\n    this.extensions[name] = extension;\n    this.extensionsList.push(extension);\n    return this;\n  }\n\n  removeExtension(name) {\n    var extension = this.getExtension(name);\n    if (!extension) {\n      return;\n    }\n\n    this.extensionsList = lib.without(this.extensionsList, extension);\n    delete this.extensions[name];\n  }\n\n  getExtension(name) {\n    return this.extensions[name];\n  }\n\n  hasExtension(name) {\n    return !!this.extensions[name];\n  }\n\n  addGlobal(name, value) {\n    this.globals[name] = value;\n    return this;\n  }\n\n  getGlobal(name) {\n    if (typeof this.globals[name] === 'undefined') {\n      throw new Error('global not found: ' + name);\n    }\n    return this.globals[name];\n  }\n\n  addFilter(name, func, async) {\n    var wrapped = func;\n\n    if (async) {\n      this.asyncFilters.push(name);\n    }\n    this.filters[name] = wrapped;\n    return this;\n  }\n\n  getFilter(name) {\n    if (!this.filters[name]) {\n      throw new Error('filter not found: ' + name);\n    }\n    return this.filters[name];\n  }\n\n  addTest(name, func) {\n    this.tests[name] = func;\n    return this;\n  }\n\n  getTest(name) {\n    if (!this.tests[name]) {\n      throw new Error('test not found: ' + name);\n    }\n    return this.tests[name];\n  }\n\n  resolveTemplate(loader, parentName, filename) {\n    var isRelative = (loader.isRelative && parentName) ? loader.isRelative(filename) : false;\n    return (isRelative && loader.resolve) ? loader.resolve(parentName, filename) : filename;\n  }\n\n  getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n    var that = this;\n    var tmpl = null;\n    if (name && name.raw) {\n      // this fixes autoescape for templates referenced in symbols\n      name = name.raw;\n    }\n\n    if (lib.isFunction(parentName)) {\n      cb = parentName;\n      parentName = null;\n      eagerCompile = eagerCompile || false;\n    }\n\n    if (lib.isFunction(eagerCompile)) {\n      cb = eagerCompile;\n      eagerCompile = false;\n    }\n\n    if (name instanceof Template) {\n      tmpl = name;\n    } else if (typeof name !== 'string') {\n      throw new Error('template names must be a string: ' + name);\n    } else {\n      for (let i = 0; i < this.loaders.length; i++) {\n        const loader = this.loaders[i];\n        tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n        if (tmpl) {\n          break;\n        }\n      }\n    }\n\n    if (tmpl) {\n      if (eagerCompile) {\n        tmpl.compile();\n      }\n\n      if (cb) {\n        cb(null, tmpl);\n        return undefined;\n      } else {\n        return tmpl;\n      }\n    }\n    let syncResult;\n\n    const createTemplate = (err, info) => {\n      if (!info && !err && !ignoreMissing) {\n        err = new Error('template not found: ' + name);\n      }\n\n      if (err) {\n        if (cb) {\n          cb(err);\n          return;\n        } else {\n          throw err;\n        }\n      }\n      let newTmpl;\n      if (!info) {\n        newTmpl = new Template(noopTmplSrc, this, '', eagerCompile);\n      } else {\n        newTmpl = new Template(info.src, this, info.path, eagerCompile);\n        if (!info.noCache) {\n          info.loader.cache[name] = newTmpl;\n        }\n      }\n      if (cb) {\n        cb(null, newTmpl);\n      } else {\n        syncResult = newTmpl;\n      }\n    };\n\n    lib.asyncIter(this.loaders, (loader, i, next, done) => {\n      function handle(err, src) {\n        if (err) {\n          done(err);\n        } else if (src) {\n          src.loader = loader;\n          done(null, src);\n        } else {\n          next();\n        }\n      }\n\n      // Resolve name relative to parentName\n      name = that.resolveTemplate(loader, parentName, name);\n\n      if (loader.async) {\n        loader.getSource(name, handle);\n      } else {\n        handle(null, loader.getSource(name));\n      }\n    }, createTemplate);\n\n    return syncResult;\n  }\n\n  express(app) {\n    return expressApp(this, app);\n  }\n\n  render(name, ctx, cb) {\n    if (lib.isFunction(ctx)) {\n      cb = ctx;\n      ctx = null;\n    }\n\n    // We support a synchronous API to make it easier to migrate\n    // existing code to async. This works because if you don't do\n    // anything async work, the whole thing is actually run\n    // synchronously.\n    let syncResult = null;\n\n    this.getTemplate(name, (err, tmpl) => {\n      if (err && cb) {\n        callbackAsap(cb, err);\n      } else if (err) {\n        throw err;\n      } else {\n        syncResult = tmpl.render(ctx, cb);\n      }\n    });\n\n    return syncResult;\n  }\n\n  renderString(src, ctx, opts, cb) {\n    if (lib.isFunction(opts)) {\n      cb = opts;\n      opts = {};\n    }\n    opts = opts || {};\n\n    const tmpl = new Template(src, this, opts.path);\n    return tmpl.render(ctx, cb);\n  }\n\n  waterfall(tasks, callback, forceAsync) {\n    return waterfall(tasks, callback, forceAsync);\n  }\n}\n\nclass Context extends Obj {\n  init(ctx, blocks, env) {\n    // Has to be tied to an environment so we can tap into its globals.\n    this.env = env || new Environment();\n\n    // Make a duplicate of ctx\n    this.ctx = lib.extend({}, ctx);\n\n    this.blocks = {};\n    this.exported = [];\n\n    lib.keys(blocks).forEach(name => {\n      this.addBlock(name, blocks[name]);\n    });\n  }\n\n  lookup(name) {\n    // This is one of the most called functions, so optimize for\n    // the typical case where the name isn't in the globals\n    if (name in this.env.globals && !(name in this.ctx)) {\n      return this.env.globals[name];\n    } else {\n      return this.ctx[name];\n    }\n  }\n\n  setVariable(name, val) {\n    this.ctx[name] = val;\n  }\n\n  getVariables() {\n    return this.ctx;\n  }\n\n  addBlock(name, block) {\n    this.blocks[name] = this.blocks[name] || [];\n    this.blocks[name].push(block);\n    return this;\n  }\n\n  getBlock(name) {\n    if (!this.blocks[name]) {\n      throw new Error('unknown block \"' + name + '\"');\n    }\n\n    return this.blocks[name][0];\n  }\n\n  getSuper(env, name, block, frame, runtime, cb) {\n    var idx = lib.indexOf(this.blocks[name] || [], block);\n    var blk = this.blocks[name][idx + 1];\n    var context = this;\n\n    if (idx === -1 || !blk) {\n      throw new Error('no super block available for \"' + name + '\"');\n    }\n\n    blk(env, context, frame, runtime, cb);\n  }\n\n  addExport(name) {\n    this.exported.push(name);\n  }\n\n  getExported() {\n    var exported = {};\n    this.exported.forEach((name) => {\n      exported[name] = this.ctx[name];\n    });\n    return exported;\n  }\n}\n\nclass Template extends Obj {\n  init(src, env, path, eagerCompile) {\n    this.env = env || new Environment();\n\n    if (lib.isObject(src)) {\n      switch (src.type) {\n        case 'code':\n          this.tmplProps = src.obj;\n          break;\n        case 'string':\n          this.tmplStr = src.obj;\n          break;\n        default:\n          throw new Error(\n            `Unexpected template object type ${src.type}; expected 'code', or 'string'`);\n      }\n    } else if (lib.isString(src)) {\n      this.tmplStr = src;\n    } else {\n      throw new Error('src must be a string or an object describing the source');\n    }\n\n    this.path = path;\n\n    if (eagerCompile) {\n      try {\n        this._compile();\n      } catch (err) {\n        throw lib._prettifyError(this.path, this.env.opts.dev, err);\n      }\n    } else {\n      this.compiled = false;\n    }\n  }\n\n  render(ctx, parentFrame, cb) {\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    } else if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // If there is a parent frame, we are being called from internal\n    // code of another template, and the internal system\n    // depends on the sync/async nature of the parent template\n    // to be inherited, so force an async callback\n    const forceAsync = !parentFrame;\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      const err = lib._prettifyError(this.path, this.env.opts.dev, e);\n      if (cb) {\n        return callbackAsap(cb, err);\n      } else {\n        throw err;\n      }\n    }\n\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    const frame = parentFrame ? parentFrame.push(true) : new Frame();\n    frame.topLevel = true;\n    let syncResult = null;\n    let didError = false;\n\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err, res) => {\n      if (didError) {\n        // prevent multiple calls to cb\n        if (cb) {\n          return;\n        } else {\n          throw err;\n        }\n      }\n      if (err) {\n        err = lib._prettifyError(this.path, this.env.opts.dev, err);\n        didError = true;\n      }\n\n      if (cb) {\n        if (forceAsync) {\n          callbackAsap(cb, err, res);\n        } else {\n          cb(err, res);\n        }\n      } else {\n        if (err) {\n          throw err;\n        }\n        syncResult = res;\n      }\n    });\n\n    return syncResult;\n  }\n\n\n  getExported(ctx, parentFrame, cb) { // eslint-disable-line consistent-return\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    }\n\n    if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      if (cb) {\n        return cb(e);\n      } else {\n        throw e;\n      }\n    }\n\n    const frame = parentFrame ? parentFrame.push() : new Frame();\n    frame.topLevel = true;\n\n    // Run the rootRenderFunc to populate the context with exported vars\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, (err) => {\n      if (err) {\n        cb(err, null);\n      } else {\n        cb(null, context.getExported());\n      }\n    });\n  }\n\n  compile() {\n    if (!this.compiled) {\n      this._compile();\n    }\n  }\n\n  _compile() {\n    var props;\n\n    if (this.tmplProps) {\n      props = this.tmplProps;\n    } else {\n      const source = compiler.compile(this.tmplStr,\n        this.env.asyncFilters,\n        this.env.extensionsList,\n        this.path,\n        this.env.opts);\n\n      const func = new Function(source); // eslint-disable-line no-new-func\n      props = func();\n    }\n\n    this.blocks = this._getBlocks(props);\n    this.rootRenderFunc = props.root;\n    this.compiled = true;\n  }\n\n  _getBlocks(props) {\n    var blocks = {};\n\n    lib.keys(props).forEach((k) => {\n      if (k.slice(0, 2) === 'b_') {\n        blocks[k.slice(2)] = props[k];\n      }\n    });\n\n    return blocks;\n  }\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/environment.js","'use strict';\n\nvar lexer = require('./lexer');\nvar nodes = require('./nodes');\nvar Obj = require('./object').Obj;\nvar lib = require('./lib');\n\nclass Parser extends Obj {\n  init(tokens) {\n    this.tokens = tokens;\n    this.peeked = null;\n    this.breakOnBlocks = null;\n    this.dropLeadingWhitespace = false;\n\n    this.extensions = [];\n  }\n\n  nextToken(withWhitespace) {\n    var tok;\n\n    if (this.peeked) {\n      if (!withWhitespace && this.peeked.type === lexer.TOKEN_WHITESPACE) {\n        this.peeked = null;\n      } else {\n        tok = this.peeked;\n        this.peeked = null;\n        return tok;\n      }\n    }\n\n    tok = this.tokens.nextToken();\n\n    if (!withWhitespace) {\n      while (tok && tok.type === lexer.TOKEN_WHITESPACE) {\n        tok = this.tokens.nextToken();\n      }\n    }\n\n    return tok;\n  }\n\n  peekToken() {\n    this.peeked = this.peeked || this.nextToken();\n    return this.peeked;\n  }\n\n  pushToken(tok) {\n    if (this.peeked) {\n      throw new Error('pushToken: can only push one token on between reads');\n    }\n    this.peeked = tok;\n  }\n\n  error(msg, lineno, colno) {\n    if (lineno === undefined || colno === undefined) {\n      const tok = this.peekToken() || {};\n      lineno = tok.lineno;\n      colno = tok.colno;\n    }\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n    return new lib.TemplateError(msg, lineno, colno);\n  }\n\n  fail(msg, lineno, colno) {\n    throw this.error(msg, lineno, colno);\n  }\n\n  skip(type) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n\n  expect(type) {\n    var tok = this.nextToken();\n    if (tok.type !== type) {\n      this.fail('expected ' + type + ', got ' + tok.type,\n        tok.lineno,\n        tok.colno);\n    }\n    return tok;\n  }\n\n  skipValue(type, val) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type || tok.value !== val) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n\n  skipSymbol(val) {\n    return this.skipValue(lexer.TOKEN_SYMBOL, val);\n  }\n\n  advanceAfterBlockEnd(name) {\n    var tok;\n    if (!name) {\n      tok = this.peekToken();\n\n      if (!tok) {\n        this.fail('unexpected end of file');\n      }\n\n      if (tok.type !== lexer.TOKEN_SYMBOL) {\n        this.fail('advanceAfterBlockEnd: expected symbol token or ' +\n          'explicit name to be passed');\n      }\n\n      name = this.nextToken().value;\n    }\n\n    tok = this.nextToken();\n\n    if (tok && tok.type === lexer.TOKEN_BLOCK_END) {\n      if (tok.value.charAt(0) === '-') {\n        this.dropLeadingWhitespace = true;\n      }\n    } else {\n      this.fail('expected block end in ' + name + ' statement');\n    }\n\n    return tok;\n  }\n\n  advanceAfterVariableEnd() {\n    var tok = this.nextToken();\n\n    if (tok && tok.type === lexer.TOKEN_VARIABLE_END) {\n      this.dropLeadingWhitespace = tok.value.charAt(\n        tok.value.length - this.tokens.tags.VARIABLE_END.length - 1\n      ) === '-';\n    } else {\n      this.pushToken(tok);\n      this.fail('expected variable end');\n    }\n  }\n\n  parseFor() {\n    var forTok = this.peekToken();\n    var node;\n    var endBlock;\n\n    if (this.skipSymbol('for')) {\n      node = new nodes.For(forTok.lineno, forTok.colno);\n      endBlock = 'endfor';\n    } else if (this.skipSymbol('asyncEach')) {\n      node = new nodes.AsyncEach(forTok.lineno, forTok.colno);\n      endBlock = 'endeach';\n    } else if (this.skipSymbol('asyncAll')) {\n      node = new nodes.AsyncAll(forTok.lineno, forTok.colno);\n      endBlock = 'endall';\n    } else {\n      this.fail('parseFor: expected for{Async}', forTok.lineno, forTok.colno);\n    }\n\n    node.name = this.parsePrimary();\n\n    if (!(node.name instanceof nodes.Symbol)) {\n      this.fail('parseFor: variable name expected for loop');\n    }\n\n    const type = this.peekToken().type;\n    if (type === lexer.TOKEN_COMMA) {\n      // key/value iteration\n      const key = node.name;\n      node.name = new nodes.Array(key.lineno, key.colno);\n      node.name.addChild(key);\n\n      while (this.skip(lexer.TOKEN_COMMA)) {\n        const prim = this.parsePrimary();\n        node.name.addChild(prim);\n      }\n    }\n\n    if (!this.skipSymbol('in')) {\n      this.fail('parseFor: expected \"in\" keyword for loop',\n        forTok.lineno,\n        forTok.colno);\n    }\n\n    node.arr = this.parseExpression();\n    this.advanceAfterBlockEnd(forTok.value);\n\n    node.body = this.parseUntilBlocks(endBlock, 'else');\n\n    if (this.skipSymbol('else')) {\n      this.advanceAfterBlockEnd('else');\n      node.else_ = this.parseUntilBlocks(endBlock);\n    }\n\n    this.advanceAfterBlockEnd();\n\n    return node;\n  }\n\n  parseMacro() {\n    const macroTok = this.peekToken();\n    if (!this.skipSymbol('macro')) {\n      this.fail('expected macro');\n    }\n\n    const name = this.parsePrimary(true);\n    const args = this.parseSignature();\n    const node = new nodes.Macro(macroTok.lineno, macroTok.colno, name, args);\n\n    this.advanceAfterBlockEnd(macroTok.value);\n    node.body = this.parseUntilBlocks('endmacro');\n    this.advanceAfterBlockEnd();\n\n    return node;\n  }\n\n  parseCall() {\n    // a call block is parsed as a normal FunCall, but with an added\n    // 'caller' kwarg which is a Caller node.\n    var callTok = this.peekToken();\n    if (!this.skipSymbol('call')) {\n      this.fail('expected call');\n    }\n\n    const callerArgs = this.parseSignature(true) || new nodes.NodeList();\n    const macroCall = this.parsePrimary();\n\n    this.advanceAfterBlockEnd(callTok.value);\n    const body = this.parseUntilBlocks('endcall');\n    this.advanceAfterBlockEnd();\n\n    const callerName = new nodes.Symbol(callTok.lineno,\n      callTok.colno,\n      'caller');\n    const callerNode = new nodes.Caller(callTok.lineno,\n      callTok.colno,\n      callerName,\n      callerArgs,\n      body);\n\n    // add the additional caller kwarg, adding kwargs if necessary\n    const args = macroCall.args.children;\n    if (!(args[args.length - 1] instanceof nodes.KeywordArgs)) {\n      args.push(new nodes.KeywordArgs());\n    }\n    const kwargs = args[args.length - 1];\n    kwargs.addChild(new nodes.Pair(callTok.lineno,\n      callTok.colno,\n      callerName,\n      callerNode));\n\n    return new nodes.Output(callTok.lineno,\n      callTok.colno,\n      [macroCall]);\n  }\n\n  parseWithContext() {\n    var tok = this.peekToken();\n\n    var withContext = null;\n\n    if (this.skipSymbol('with')) {\n      withContext = true;\n    } else if (this.skipSymbol('without')) {\n      withContext = false;\n    }\n\n    if (withContext !== null) {\n      if (!this.skipSymbol('context')) {\n        this.fail('parseFrom: expected context after with/without',\n          tok.lineno,\n          tok.colno);\n      }\n    }\n\n    return withContext;\n  }\n\n  parseImport() {\n    var importTok = this.peekToken();\n    if (!this.skipSymbol('import')) {\n      this.fail('parseImport: expected import',\n        importTok.lineno,\n        importTok.colno);\n    }\n\n    const template = this.parseExpression();\n\n    if (!this.skipSymbol('as')) {\n      this.fail('parseImport: expected \"as\" keyword',\n        importTok.lineno,\n        importTok.colno);\n    }\n\n    const target = this.parseExpression();\n    const withContext = this.parseWithContext();\n    const node = new nodes.Import(importTok.lineno,\n      importTok.colno,\n      template,\n      target,\n      withContext);\n\n    this.advanceAfterBlockEnd(importTok.value);\n\n    return node;\n  }\n\n  parseFrom() {\n    const fromTok = this.peekToken();\n    if (!this.skipSymbol('from')) {\n      this.fail('parseFrom: expected from');\n    }\n\n    const template = this.parseExpression();\n\n    if (!this.skipSymbol('import')) {\n      this.fail('parseFrom: expected import',\n        fromTok.lineno,\n        fromTok.colno);\n    }\n\n    const names = new nodes.NodeList();\n    let withContext;\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const nextTok = this.peekToken();\n      if (nextTok.type === lexer.TOKEN_BLOCK_END) {\n        if (!names.children.length) {\n          this.fail('parseFrom: Expected at least one import name',\n            fromTok.lineno,\n            fromTok.colno);\n        }\n\n        // Since we are manually advancing past the block end,\n        // need to keep track of whitespace control (normally\n        // this is done in `advanceAfterBlockEnd`\n        if (nextTok.value.charAt(0) === '-') {\n          this.dropLeadingWhitespace = true;\n        }\n\n        this.nextToken();\n        break;\n      }\n\n      if (names.children.length > 0 && !this.skip(lexer.TOKEN_COMMA)) {\n        this.fail('parseFrom: expected comma',\n          fromTok.lineno,\n          fromTok.colno);\n      }\n\n      const name = this.parsePrimary();\n      if (name.value.charAt(0) === '_') {\n        this.fail('parseFrom: names starting with an underscore cannot be imported',\n          name.lineno,\n          name.colno);\n      }\n\n      if (this.skipSymbol('as')) {\n        const alias = this.parsePrimary();\n        names.addChild(new nodes.Pair(name.lineno,\n          name.colno,\n          name,\n          alias));\n      } else {\n        names.addChild(name);\n      }\n\n      withContext = this.parseWithContext();\n    }\n\n    return new nodes.FromImport(fromTok.lineno,\n      fromTok.colno,\n      template,\n      names,\n      withContext);\n  }\n\n  parseBlock() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('block')) {\n      this.fail('parseBlock: expected block', tag.lineno, tag.colno);\n    }\n\n    const node = new nodes.Block(tag.lineno, tag.colno);\n\n    node.name = this.parsePrimary();\n    if (!(node.name instanceof nodes.Symbol)) {\n      this.fail('parseBlock: variable name expected',\n        tag.lineno,\n        tag.colno);\n    }\n\n    this.advanceAfterBlockEnd(tag.value);\n\n    node.body = this.parseUntilBlocks('endblock');\n    this.skipSymbol('endblock');\n    this.skipSymbol(node.name.value);\n\n    const tok = this.peekToken();\n    if (!tok) {\n      this.fail('parseBlock: expected endblock, got end of file');\n    }\n\n    this.advanceAfterBlockEnd(tok.value);\n\n    return node;\n  }\n\n  parseExtends() {\n    const tagName = 'extends';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseTemplateRef: expected ' + tagName);\n    }\n\n    const node = new nodes.Extends(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n\n  parseInclude() {\n    const tagName = 'include';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseInclude: expected ' + tagName);\n    }\n\n    const node = new nodes.Include(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n\n    if (this.skipSymbol('ignore') && this.skipSymbol('missing')) {\n      node.ignoreMissing = true;\n    }\n\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n\n  parseIf() {\n    const tag = this.peekToken();\n    let node;\n\n    if (this.skipSymbol('if') || this.skipSymbol('elif') || this.skipSymbol('elseif')) {\n      node = new nodes.If(tag.lineno, tag.colno);\n    } else if (this.skipSymbol('ifAsync')) {\n      node = new nodes.IfAsync(tag.lineno, tag.colno);\n    } else {\n      this.fail('parseIf: expected if, elif, or elseif',\n        tag.lineno,\n        tag.colno);\n    }\n\n    node.cond = this.parseExpression();\n    this.advanceAfterBlockEnd(tag.value);\n\n    node.body = this.parseUntilBlocks('elif', 'elseif', 'else', 'endif');\n    const tok = this.peekToken();\n\n    switch (tok && tok.value) {\n      case 'elseif':\n      case 'elif':\n        node.else_ = this.parseIf();\n        break;\n      case 'else':\n        this.advanceAfterBlockEnd();\n        node.else_ = this.parseUntilBlocks('endif');\n        this.advanceAfterBlockEnd();\n        break;\n      case 'endif':\n        node.else_ = null;\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        this.fail('parseIf: expected elif, else, or endif, got end of file');\n    }\n\n    return node;\n  }\n\n  parseSet() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('set')) {\n      this.fail('parseSet: expected set', tag.lineno, tag.colno);\n    }\n\n    const node = new nodes.Set(tag.lineno, tag.colno, []);\n\n    let target;\n    while ((target = this.parsePrimary())) {\n      node.targets.push(target);\n\n      if (!this.skip(lexer.TOKEN_COMMA)) {\n        break;\n      }\n    }\n\n    if (!this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n      if (!this.skip(lexer.TOKEN_BLOCK_END)) {\n        this.fail('parseSet: expected = or block end in set tag',\n          tag.lineno,\n          tag.colno);\n      } else {\n        node.body = new nodes.Capture(\n          tag.lineno,\n          tag.colno,\n          this.parseUntilBlocks('endset')\n        );\n        node.value = null;\n        this.advanceAfterBlockEnd();\n      }\n    } else {\n      node.value = this.parseExpression();\n      this.advanceAfterBlockEnd(tag.value);\n    }\n\n    return node;\n  }\n\n  parseSwitch() {\n    /*\n     * Store the tag names in variables in case someone ever wants to\n     * customize this.\n     */\n    const switchStart = 'switch';\n    const switchEnd = 'endswitch';\n    const caseStart = 'case';\n    const caseDefault = 'default';\n\n    // Get the switch tag.\n    const tag = this.peekToken();\n\n    // fail early if we get some unexpected tag.\n    if (\n      !this.skipSymbol(switchStart)\n      && !this.skipSymbol(caseStart)\n      && !this.skipSymbol(caseDefault)\n    ) {\n      this.fail('parseSwitch: expected \"switch,\" \"case\" or \"default\"', tag.lineno, tag.colno);\n    }\n\n    // parse the switch expression\n    const expr = this.parseExpression();\n\n    // advance until a start of a case, a default case or an endswitch.\n    this.advanceAfterBlockEnd(switchStart);\n    this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n\n    // this is the first case. it could also be an endswitch, we'll check.\n    let tok = this.peekToken();\n\n    // create new variables for our cases and default case.\n    const cases = [];\n    let defaultCase;\n\n    // while we're dealing with new cases nodes...\n    do {\n      // skip the start symbol and get the case expression\n      this.skipSymbol(caseStart);\n      const cond = this.parseExpression();\n      this.advanceAfterBlockEnd(switchStart);\n      // get the body of the case node and add it to the array of cases.\n      const body = this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n      cases.push(new nodes.Case(tok.line, tok.col, cond, body));\n      // get our next case\n      tok = this.peekToken();\n    } while (tok && tok.value === caseStart);\n\n    // we either have a default case or a switch end.\n    switch (tok.value) {\n      case caseDefault:\n        this.advanceAfterBlockEnd();\n        defaultCase = this.parseUntilBlocks(switchEnd);\n        this.advanceAfterBlockEnd();\n        break;\n      case switchEnd:\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        // otherwise bail because EOF\n        this.fail('parseSwitch: expected \"case,\" \"default\" or \"endswitch,\" got EOF.');\n    }\n\n    // and return the switch node.\n    return new nodes.Switch(tag.lineno, tag.colno, expr, cases, defaultCase);\n  }\n\n  parseStatement() {\n    var tok = this.peekToken();\n    var node;\n\n    if (tok.type !== lexer.TOKEN_SYMBOL) {\n      this.fail('tag name expected', tok.lineno, tok.colno);\n    }\n\n    if (this.breakOnBlocks &&\n      lib.indexOf(this.breakOnBlocks, tok.value) !== -1) {\n      return null;\n    }\n\n    switch (tok.value) {\n      case 'raw':\n        return this.parseRaw();\n      case 'verbatim':\n        return this.parseRaw('verbatim');\n      case 'if':\n      case 'ifAsync':\n        return this.parseIf();\n      case 'for':\n      case 'asyncEach':\n      case 'asyncAll':\n        return this.parseFor();\n      case 'block':\n        return this.parseBlock();\n      case 'extends':\n        return this.parseExtends();\n      case 'include':\n        return this.parseInclude();\n      case 'set':\n        return this.parseSet();\n      case 'macro':\n        return this.parseMacro();\n      case 'call':\n        return this.parseCall();\n      case 'import':\n        return this.parseImport();\n      case 'from':\n        return this.parseFrom();\n      case 'filter':\n        return this.parseFilterStatement();\n      case 'switch':\n        return this.parseSwitch();\n      default:\n        if (this.extensions.length) {\n          for (let i = 0; i < this.extensions.length; i++) {\n            const ext = this.extensions[i];\n            if (lib.indexOf(ext.tags || [], tok.value) !== -1) {\n              return ext.parse(this, nodes, lexer);\n            }\n          }\n        }\n        this.fail('unknown block tag: ' + tok.value, tok.lineno, tok.colno);\n    }\n\n    return node;\n  }\n\n  parseRaw(tagName) {\n    tagName = tagName || 'raw';\n    const endTagName = 'end' + tagName;\n    // Look for upcoming raw blocks (ignore all other kinds of blocks)\n    const rawBlockRegex = new RegExp('([\\\\s\\\\S]*?){%\\\\s*(' + tagName + '|' + endTagName + ')\\\\s*(?=%})%}');\n    let rawLevel = 1;\n    let str = '';\n    let matches = null;\n\n    // Skip opening raw token\n    // Keep this token to track line and column numbers\n    const begun = this.advanceAfterBlockEnd();\n\n    // Exit when there's nothing to match\n    // or when we've found the matching \"endraw\" block\n    while ((matches = this.tokens._extractRegex(rawBlockRegex)) && rawLevel > 0) {\n      const all = matches[0];\n      const pre = matches[1];\n      const blockName = matches[2];\n\n      // Adjust rawlevel\n      if (blockName === tagName) {\n        rawLevel += 1;\n      } else if (blockName === endTagName) {\n        rawLevel -= 1;\n      }\n\n      // Add to str\n      if (rawLevel === 0) {\n        // We want to exclude the last \"endraw\"\n        str += pre;\n        // Move tokenizer to beginning of endraw block\n        this.tokens.backN(all.length - pre.length);\n      } else {\n        str += all;\n      }\n    }\n\n    return new nodes.Output(\n      begun.lineno,\n      begun.colno,\n      [new nodes.TemplateData(begun.lineno, begun.colno, str)]\n    );\n  }\n\n  parsePostfix(node) {\n    let lookup;\n    let tok = this.peekToken();\n\n    while (tok) {\n      if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n        // Function call\n        node = new nodes.FunCall(tok.lineno,\n          tok.colno,\n          node,\n          this.parseSignature());\n      } else if (tok.type === lexer.TOKEN_LEFT_BRACKET) {\n        // Reference\n        lookup = this.parseAggregate();\n        if (lookup.children.length > 1) {\n          this.fail('invalid index');\n        }\n\n        node = new nodes.LookupVal(tok.lineno,\n          tok.colno,\n          node,\n          lookup.children[0]);\n      } else if (tok.type === lexer.TOKEN_OPERATOR && tok.value === '.') {\n        // Reference\n        this.nextToken();\n        const val = this.nextToken();\n\n        if (val.type !== lexer.TOKEN_SYMBOL) {\n          this.fail('expected name as lookup value, got ' + val.value,\n            val.lineno,\n            val.colno);\n        }\n\n        // Make a literal string because it's not a variable\n        // reference\n        lookup = new nodes.Literal(val.lineno,\n          val.colno,\n          val.value);\n\n        node = new nodes.LookupVal(tok.lineno,\n          tok.colno,\n          node,\n          lookup);\n      } else {\n        break;\n      }\n\n      tok = this.peekToken();\n    }\n\n    return node;\n  }\n\n  parseExpression() {\n    var node = this.parseInlineIf();\n    return node;\n  }\n\n  parseInlineIf() {\n    let node = this.parseOr();\n    if (this.skipSymbol('if')) {\n      const condNode = this.parseOr();\n      const bodyNode = node;\n      node = new nodes.InlineIf(node.lineno, node.colno);\n      node.body = bodyNode;\n      node.cond = condNode;\n      if (this.skipSymbol('else')) {\n        node.else_ = this.parseOr();\n      } else {\n        node.else_ = null;\n      }\n    }\n\n    return node;\n  }\n\n  parseOr() {\n    let node = this.parseAnd();\n    while (this.skipSymbol('or')) {\n      const node2 = this.parseAnd();\n      node = new nodes.Or(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseAnd() {\n    let node = this.parseNot();\n    while (this.skipSymbol('and')) {\n      const node2 = this.parseNot();\n      node = new nodes.And(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseNot() {\n    const tok = this.peekToken();\n    if (this.skipSymbol('not')) {\n      return new nodes.Not(tok.lineno,\n        tok.colno,\n        this.parseNot());\n    }\n    return this.parseIn();\n  }\n\n  parseIn() {\n    let node = this.parseIs();\n    while (1) { // eslint-disable-line no-constant-condition\n      // check if the next token is 'not'\n      const tok = this.nextToken();\n      if (!tok) {\n        break;\n      }\n      const invert = tok.type === lexer.TOKEN_SYMBOL && tok.value === 'not';\n      // if it wasn't 'not', put it back\n      if (!invert) {\n        this.pushToken(tok);\n      }\n      if (this.skipSymbol('in')) {\n        const node2 = this.parseIs();\n        node = new nodes.In(node.lineno,\n          node.colno,\n          node,\n          node2);\n        if (invert) {\n          node = new nodes.Not(node.lineno,\n            node.colno,\n            node);\n        }\n      } else {\n        // if we'd found a 'not' but this wasn't an 'in', put back the 'not'\n        if (invert) {\n          this.pushToken(tok);\n        }\n        break;\n      }\n    }\n    return node;\n  }\n\n  // I put this right after \"in\" in the operator precedence stack. That can\n  // obviously be changed to be closer to Jinja.\n  parseIs() {\n    let node = this.parseCompare();\n    // look for an is\n    if (this.skipSymbol('is')) {\n      // look for a not\n      const not = this.skipSymbol('not');\n      // get the next node\n      const node2 = this.parseCompare();\n      // create an Is node using the next node and the info from our Is node.\n      node = new nodes.Is(node.lineno, node.colno, node, node2);\n      // if we have a Not, create a Not node from our Is node.\n      if (not) {\n        node = new nodes.Not(node.lineno, node.colno, node);\n      }\n    }\n    // return the node.\n    return node;\n  }\n\n  parseCompare() {\n    const compareOps = ['==', '===', '!=', '!==', '<', '>', '<=', '>='];\n    const expr = this.parseConcat();\n    const ops = [];\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const tok = this.nextToken();\n\n      if (!tok) {\n        break;\n      } else if (compareOps.indexOf(tok.value) !== -1) {\n        ops.push(new nodes.CompareOperand(tok.lineno,\n          tok.colno,\n          this.parseConcat(),\n          tok.value));\n      } else {\n        this.pushToken(tok);\n        break;\n      }\n    }\n\n    if (ops.length) {\n      return new nodes.Compare(ops[0].lineno,\n        ops[0].colno,\n        expr,\n        ops);\n    } else {\n      return expr;\n    }\n  }\n\n  // finds the '~' for string concatenation\n  parseConcat() {\n    let node = this.parseAdd();\n    while (this.skipValue(lexer.TOKEN_TILDE, '~')) {\n      const node2 = this.parseAdd();\n      node = new nodes.Concat(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseAdd() {\n    let node = this.parseSub();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n      const node2 = this.parseSub();\n      node = new nodes.Add(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseSub() {\n    let node = this.parseMul();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n      const node2 = this.parseMul();\n      node = new nodes.Sub(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseMul() {\n    let node = this.parseDiv();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '*')) {\n      const node2 = this.parseDiv();\n      node = new nodes.Mul(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseDiv() {\n    let node = this.parseFloorDiv();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '/')) {\n      const node2 = this.parseFloorDiv();\n      node = new nodes.Div(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseFloorDiv() {\n    let node = this.parseMod();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '//')) {\n      const node2 = this.parseMod();\n      node = new nodes.FloorDiv(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseMod() {\n    let node = this.parsePow();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '%')) {\n      const node2 = this.parsePow();\n      node = new nodes.Mod(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parsePow() {\n    let node = this.parseUnary();\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '**')) {\n      const node2 = this.parseUnary();\n      node = new nodes.Pow(node.lineno,\n        node.colno,\n        node,\n        node2);\n    }\n    return node;\n  }\n\n  parseUnary(noFilters) {\n    const tok = this.peekToken();\n    let node;\n\n    if (this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n      node = new nodes.Neg(tok.lineno,\n        tok.colno,\n        this.parseUnary(true));\n    } else if (this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n      node = new nodes.Pos(tok.lineno,\n        tok.colno,\n        this.parseUnary(true));\n    } else {\n      node = this.parsePrimary();\n    }\n\n    if (!noFilters) {\n      node = this.parseFilter(node);\n    }\n\n    return node;\n  }\n\n  parsePrimary(noPostfix) {\n    const tok = this.nextToken();\n    let val;\n    let node = null;\n\n    if (!tok) {\n      this.fail('expected expression, got end of file');\n    } else if (tok.type === lexer.TOKEN_STRING) {\n      val = tok.value;\n    } else if (tok.type === lexer.TOKEN_INT) {\n      val = parseInt(tok.value, 10);\n    } else if (tok.type === lexer.TOKEN_FLOAT) {\n      val = parseFloat(tok.value);\n    } else if (tok.type === lexer.TOKEN_BOOLEAN) {\n      if (tok.value === 'true') {\n        val = true;\n      } else if (tok.value === 'false') {\n        val = false;\n      } else {\n        this.fail('invalid boolean: ' + tok.value,\n          tok.lineno,\n          tok.colno);\n      }\n    } else if (tok.type === lexer.TOKEN_NONE) {\n      val = null;\n    } else if (tok.type === lexer.TOKEN_REGEX) {\n      val = new RegExp(tok.value.body, tok.value.flags);\n    }\n\n    if (val !== undefined) {\n      node = new nodes.Literal(tok.lineno, tok.colno, val);\n    } else if (tok.type === lexer.TOKEN_SYMBOL) {\n      node = new nodes.Symbol(tok.lineno, tok.colno, tok.value);\n    } else {\n      // See if it's an aggregate type, we need to push the\n      // current delimiter token back on\n      this.pushToken(tok);\n      node = this.parseAggregate();\n    }\n\n    if (!noPostfix) {\n      node = this.parsePostfix(node);\n    }\n\n    if (node) {\n      return node;\n    } else {\n      throw this.error(`unexpected token: ${tok.value}`, tok.lineno, tok.colno);\n    }\n  }\n\n  parseFilterName() {\n    const tok = this.expect(lexer.TOKEN_SYMBOL);\n    let name = tok.value;\n\n    while (this.skipValue(lexer.TOKEN_OPERATOR, '.')) {\n      name += '.' + this.expect(lexer.TOKEN_SYMBOL).value;\n    }\n\n    return new nodes.Symbol(tok.lineno, tok.colno, name);\n  }\n\n  parseFilterArgs(node) {\n    if (this.peekToken().type === lexer.TOKEN_LEFT_PAREN) {\n      // Get a FunCall node and add the parameters to the\n      // filter\n      const call = this.parsePostfix(node);\n      return call.args.children;\n    }\n    return [];\n  }\n\n  parseFilter(node) {\n    while (this.skip(lexer.TOKEN_PIPE)) {\n      const name = this.parseFilterName();\n\n      node = new nodes.Filter(\n        name.lineno,\n        name.colno,\n        name,\n        new nodes.NodeList(\n          name.lineno,\n          name.colno,\n          [node].concat(this.parseFilterArgs(node))\n        )\n      );\n    }\n\n    return node;\n  }\n\n  parseFilterStatement() {\n    var filterTok = this.peekToken();\n    if (!this.skipSymbol('filter')) {\n      this.fail('parseFilterStatement: expected filter');\n    }\n\n    const name = this.parseFilterName();\n    const args = this.parseFilterArgs(name);\n\n    this.advanceAfterBlockEnd(filterTok.value);\n    const body = new nodes.Capture(\n      name.lineno,\n      name.colno,\n      this.parseUntilBlocks('endfilter')\n    );\n    this.advanceAfterBlockEnd();\n\n    const node = new nodes.Filter(\n      name.lineno,\n      name.colno,\n      name,\n      new nodes.NodeList(\n        name.lineno,\n        name.colno,\n        [body].concat(args)\n      )\n    );\n\n    return new nodes.Output(\n      name.lineno,\n      name.colno,\n      [node]\n    );\n  }\n\n  parseAggregate() {\n    var tok = this.nextToken();\n    var node;\n\n    switch (tok.type) {\n      case lexer.TOKEN_LEFT_PAREN:\n        node = new nodes.Group(tok.lineno, tok.colno);\n        break;\n      case lexer.TOKEN_LEFT_BRACKET:\n        node = new nodes.Array(tok.lineno, tok.colno);\n        break;\n      case lexer.TOKEN_LEFT_CURLY:\n        node = new nodes.Dict(tok.lineno, tok.colno);\n        break;\n      default:\n        return null;\n    }\n\n    while (1) { // eslint-disable-line no-constant-condition\n      const type = this.peekToken().type;\n      if (type === lexer.TOKEN_RIGHT_PAREN ||\n        type === lexer.TOKEN_RIGHT_BRACKET ||\n        type === lexer.TOKEN_RIGHT_CURLY) {\n        this.nextToken();\n        break;\n      }\n\n      if (node.children.length > 0) {\n        if (!this.skip(lexer.TOKEN_COMMA)) {\n          this.fail('parseAggregate: expected comma after expression',\n            tok.lineno,\n            tok.colno);\n        }\n      }\n\n      if (node instanceof nodes.Dict) {\n        // TODO: check for errors\n        const key = this.parsePrimary();\n\n        // We expect a key/value pair for dicts, separated by a\n        // colon\n        if (!this.skip(lexer.TOKEN_COLON)) {\n          this.fail('parseAggregate: expected colon after dict key',\n            tok.lineno,\n            tok.colno);\n        }\n\n        // TODO: check for errors\n        const value = this.parseExpression();\n        node.addChild(new nodes.Pair(key.lineno,\n          key.colno,\n          key,\n          value));\n      } else {\n        // TODO: check for errors\n        const expr = this.parseExpression();\n        node.addChild(expr);\n      }\n    }\n\n    return node;\n  }\n\n  parseSignature(tolerant, noParens) {\n    let tok = this.peekToken();\n    if (!noParens && tok.type !== lexer.TOKEN_LEFT_PAREN) {\n      if (tolerant) {\n        return null;\n      } else {\n        this.fail('expected arguments', tok.lineno, tok.colno);\n      }\n    }\n\n    if (tok.type === lexer.TOKEN_LEFT_PAREN) {\n      tok = this.nextToken();\n    }\n\n    const args = new nodes.NodeList(tok.lineno, tok.colno);\n    const kwargs = new nodes.KeywordArgs(tok.lineno, tok.colno);\n    let checkComma = false;\n\n    while (1) { // eslint-disable-line no-constant-condition\n      tok = this.peekToken();\n      if (!noParens && tok.type === lexer.TOKEN_RIGHT_PAREN) {\n        this.nextToken();\n        break;\n      } else if (noParens && tok.type === lexer.TOKEN_BLOCK_END) {\n        break;\n      }\n\n      if (checkComma && !this.skip(lexer.TOKEN_COMMA)) {\n        this.fail('parseSignature: expected comma after expression',\n          tok.lineno,\n          tok.colno);\n      } else {\n        const arg = this.parseExpression();\n\n        if (this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n          kwargs.addChild(\n            new nodes.Pair(arg.lineno,\n              arg.colno,\n              arg,\n              this.parseExpression())\n          );\n        } else {\n          args.addChild(arg);\n        }\n      }\n\n      checkComma = true;\n    }\n\n    if (kwargs.children.length) {\n      args.addChild(kwargs);\n    }\n\n    return args;\n  }\n\n  parseUntilBlocks(...blockNames) {\n    const prev = this.breakOnBlocks;\n    this.breakOnBlocks = blockNames;\n\n    const ret = this.parse();\n\n    this.breakOnBlocks = prev;\n    return ret;\n  }\n\n  parseNodes() {\n    let tok;\n    const buf = [];\n\n    while ((tok = this.nextToken())) {\n      if (tok.type === lexer.TOKEN_DATA) {\n        let data = tok.value;\n        const nextToken = this.peekToken();\n        const nextVal = nextToken && nextToken.value;\n\n        // If the last token has \"-\" we need to trim the\n        // leading whitespace of the data. This is marked with\n        // the `dropLeadingWhitespace` variable.\n        if (this.dropLeadingWhitespace) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/^\\s*/, '');\n          this.dropLeadingWhitespace = false;\n        }\n\n        // Same for the succeeding block start token\n        if (nextToken &&\n          ((nextToken.type === lexer.TOKEN_BLOCK_START &&\n          nextVal.charAt(nextVal.length - 1) === '-') ||\n          (nextToken.type === lexer.TOKEN_VARIABLE_START &&\n          nextVal.charAt(this.tokens.tags.VARIABLE_START.length)\n          === '-') ||\n          (nextToken.type === lexer.TOKEN_COMMENT &&\n          nextVal.charAt(this.tokens.tags.COMMENT_START.length)\n          === '-'))) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/\\s*$/, '');\n        }\n\n        buf.push(new nodes.Output(tok.lineno,\n          tok.colno,\n          [new nodes.TemplateData(tok.lineno,\n            tok.colno,\n            data)]));\n      } else if (tok.type === lexer.TOKEN_BLOCK_START) {\n        this.dropLeadingWhitespace = false;\n        const n = this.parseStatement();\n        if (!n) {\n          break;\n        }\n        buf.push(n);\n      } else if (tok.type === lexer.TOKEN_VARIABLE_START) {\n        const e = this.parseExpression();\n        this.dropLeadingWhitespace = false;\n        this.advanceAfterVariableEnd();\n        buf.push(new nodes.Output(tok.lineno, tok.colno, [e]));\n      } else if (tok.type === lexer.TOKEN_COMMENT) {\n        this.dropLeadingWhitespace = tok.value.charAt(\n          tok.value.length - this.tokens.tags.COMMENT_END.length - 1\n        ) === '-';\n      } else {\n        // Ignore comments, otherwise this should be an error\n        this.fail('Unexpected token at top-level: ' +\n          tok.type, tok.lineno, tok.colno);\n      }\n    }\n\n    return buf;\n  }\n\n  parse() {\n    return new nodes.NodeList(0, 0, this.parseNodes());\n  }\n\n  parseAsRoot() {\n    return new nodes.Root(0, 0, this.parseNodes());\n  }\n}\n\n// var util = require('util');\n\n// var l = lexer.lex('{%- if x -%}\\n hello {% endif %}');\n// var t;\n// while((t = l.nextToken())) {\n//     console.log(util.inspect(t));\n// }\n\n// var p = new Parser(lexer.lex('hello {% filter title %}' +\n//                              'Hello madam how are you' +\n//                              '{% endfilter %}'));\n// var n = p.parseAsRoot();\n// nodes.printNodes(n);\n\nmodule.exports = {\n  parse(src, extensions, opts) {\n    var p = new Parser(lexer.lex(src, opts));\n    if (extensions !== undefined) {\n      p.extensions = extensions;\n    }\n    return p.parseAsRoot();\n  },\n  Parser: Parser\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/parser.js","'use strict';\n\nconst lib = require('./lib');\n\nlet whitespaceChars = ' \\n\\t\\r\\u00A0';\nlet delimChars = '()[]{}%*-+~/#,:|.<>=!';\nlet intChars = '0123456789';\n\nlet BLOCK_START = '{%';\nlet BLOCK_END = '%}';\nlet VARIABLE_START = '{{';\nlet VARIABLE_END = '}}';\nlet COMMENT_START = '{#';\nlet COMMENT_END = '#}';\n\nlet TOKEN_STRING = 'string';\nlet TOKEN_WHITESPACE = 'whitespace';\nlet TOKEN_DATA = 'data';\nlet TOKEN_BLOCK_START = 'block-start';\nlet TOKEN_BLOCK_END = 'block-end';\nlet TOKEN_VARIABLE_START = 'variable-start';\nlet TOKEN_VARIABLE_END = 'variable-end';\nlet TOKEN_COMMENT = 'comment';\nlet TOKEN_LEFT_PAREN = 'left-paren';\nlet TOKEN_RIGHT_PAREN = 'right-paren';\nlet TOKEN_LEFT_BRACKET = 'left-bracket';\nlet TOKEN_RIGHT_BRACKET = 'right-bracket';\nlet TOKEN_LEFT_CURLY = 'left-curly';\nlet TOKEN_RIGHT_CURLY = 'right-curly';\nlet TOKEN_OPERATOR = 'operator';\nlet TOKEN_COMMA = 'comma';\nlet TOKEN_COLON = 'colon';\nlet TOKEN_TILDE = 'tilde';\nlet TOKEN_PIPE = 'pipe';\nlet TOKEN_INT = 'int';\nlet TOKEN_FLOAT = 'float';\nlet TOKEN_BOOLEAN = 'boolean';\nlet TOKEN_NONE = 'none';\nlet TOKEN_SYMBOL = 'symbol';\nlet TOKEN_SPECIAL = 'special';\nlet TOKEN_REGEX = 'regex';\n\nfunction token(type, value, lineno, colno) {\n  return {\n    type: type,\n    value: value,\n    lineno: lineno,\n    colno: colno\n  };\n}\n\nclass Tokenizer {\n  constructor(str, opts) {\n    this.str = str;\n    this.index = 0;\n    this.len = str.length;\n    this.lineno = 0;\n    this.colno = 0;\n\n    this.in_code = false;\n\n    opts = opts || {};\n\n    let tags = opts.tags || {};\n    this.tags = {\n      BLOCK_START: tags.blockStart || BLOCK_START,\n      BLOCK_END: tags.blockEnd || BLOCK_END,\n      VARIABLE_START: tags.variableStart || VARIABLE_START,\n      VARIABLE_END: tags.variableEnd || VARIABLE_END,\n      COMMENT_START: tags.commentStart || COMMENT_START,\n      COMMENT_END: tags.commentEnd || COMMENT_END\n    };\n\n    this.trimBlocks = !!opts.trimBlocks;\n    this.lstripBlocks = !!opts.lstripBlocks;\n  }\n\n  nextToken() {\n    let lineno = this.lineno;\n    let colno = this.colno;\n    let tok;\n\n    if (this.in_code) {\n      // Otherwise, if we are in a block parse it as code\n      let cur = this.current();\n\n      if (this.isFinished()) {\n        // We have nothing else to parse\n        return null;\n      } else if (cur === '\"' || cur === '\\'') {\n        // We've hit a string\n        return token(TOKEN_STRING, this._parseString(cur), lineno, colno);\n      } else if ((tok = this._extract(whitespaceChars))) {\n        // We hit some whitespace\n        return token(TOKEN_WHITESPACE, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.BLOCK_END)) ||\n        (tok = this._extractString('-' + this.tags.BLOCK_END))) {\n        // Special check for the block end tag\n        //\n        // It is a requirement that start and end tags are composed of\n        // delimiter characters (%{}[] etc), and our code always\n        // breaks on delimiters so we can assume the token parsing\n        // doesn't consume these elsewhere\n        this.in_code = false;\n        if (this.trimBlocks) {\n          cur = this.current();\n          if (cur === '\\n') {\n            // Skip newline\n            this.forward();\n          } else if (cur === '\\r') {\n            // Skip CRLF newline\n            this.forward();\n            cur = this.current();\n            if (cur === '\\n') {\n              this.forward();\n            } else {\n              // Was not a CRLF, so go back\n              this.back();\n            }\n          }\n        }\n        return token(TOKEN_BLOCK_END, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_END)) ||\n        (tok = this._extractString('-' + this.tags.VARIABLE_END))) {\n        // Special check for variable end tag (see above)\n        this.in_code = false;\n        return token(TOKEN_VARIABLE_END, tok, lineno, colno);\n      } else if (cur === 'r' && this.str.charAt(this.index + 1) === '/') {\n        // Skip past 'r/'.\n        this.forwardN(2);\n\n        // Extract until the end of the regex -- / ends it, \\/ does not.\n        let regexBody = '';\n        while (!this.isFinished()) {\n          if (this.current() === '/' && this.previous() !== '\\\\') {\n            this.forward();\n            break;\n          } else {\n            regexBody += this.current();\n            this.forward();\n          }\n        }\n\n        // Check for flags.\n        // The possible flags are according to https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp)\n        let POSSIBLE_FLAGS = ['g', 'i', 'm', 'y'];\n        let regexFlags = '';\n        while (!this.isFinished()) {\n          let isCurrentAFlag = POSSIBLE_FLAGS.indexOf(this.current()) !== -1;\n          if (isCurrentAFlag) {\n            regexFlags += this.current();\n            this.forward();\n          } else {\n            break;\n          }\n        }\n\n        return token(TOKEN_REGEX, {\n          body: regexBody,\n          flags: regexFlags\n        }, lineno, colno);\n      } else if (delimChars.indexOf(cur) !== -1) {\n        // We've hit a delimiter (a special char like a bracket)\n        this.forward();\n        let complexOps = ['==', '===', '!=', '!==', '<=', '>=', '//', '**'];\n        let curComplex = cur + this.current();\n        let type;\n\n        if (lib.indexOf(complexOps, curComplex) !== -1) {\n          this.forward();\n          cur = curComplex;\n\n          // See if this is a strict equality/inequality comparator\n          if (lib.indexOf(complexOps, curComplex + this.current()) !== -1) {\n            cur = curComplex + this.current();\n            this.forward();\n          }\n        }\n\n        switch (cur) {\n          case '(':\n            type = TOKEN_LEFT_PAREN;\n            break;\n          case ')':\n            type = TOKEN_RIGHT_PAREN;\n            break;\n          case '[':\n            type = TOKEN_LEFT_BRACKET;\n            break;\n          case ']':\n            type = TOKEN_RIGHT_BRACKET;\n            break;\n          case '{':\n            type = TOKEN_LEFT_CURLY;\n            break;\n          case '}':\n            type = TOKEN_RIGHT_CURLY;\n            break;\n          case ',':\n            type = TOKEN_COMMA;\n            break;\n          case ':':\n            type = TOKEN_COLON;\n            break;\n          case '~':\n            type = TOKEN_TILDE;\n            break;\n          case '|':\n            type = TOKEN_PIPE;\n            break;\n          default:\n            type = TOKEN_OPERATOR;\n        }\n\n        return token(type, cur, lineno, colno);\n      } else {\n        // We are not at whitespace or a delimiter, so extract the\n        // text and parse it\n        tok = this._extractUntil(whitespaceChars + delimChars);\n\n        if (tok.match(/^[-+]?[0-9]+$/)) {\n          if (this.current() === '.') {\n            this.forward();\n            let dec = this._extract(intChars);\n            return token(TOKEN_FLOAT, tok + '.' + dec, lineno, colno);\n          } else {\n            return token(TOKEN_INT, tok, lineno, colno);\n          }\n        } else if (tok.match(/^(true|false)$/)) {\n          return token(TOKEN_BOOLEAN, tok, lineno, colno);\n        } else if (tok === 'none') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        /*\n         * Added to make the test `null is null` evaluate truthily.\n         * Otherwise, Nunjucks will look up null in the context and\n         * return `undefined`, which is not what we want. This *may* have\n         * consequences is someone is using null in their templates as a\n         * variable.\n         */\n        } else if (tok === 'null') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        } else if (tok) {\n          return token(TOKEN_SYMBOL, tok, lineno, colno);\n        } else {\n          throw new Error('Unexpected value while parsing: ' + tok);\n        }\n      }\n    } else {\n      // Parse out the template text, breaking on tag\n      // delimiters because we need to look for block/variable start\n      // tags (don't use the full delimChars for optimization)\n      let beginChars = (this.tags.BLOCK_START.charAt(0) +\n      this.tags.VARIABLE_START.charAt(0) +\n      this.tags.COMMENT_START.charAt(0) +\n      this.tags.COMMENT_END.charAt(0));\n\n      if (this.isFinished()) {\n        return null;\n      } else if ((tok = this._extractString(this.tags.BLOCK_START + '-')) ||\n        (tok = this._extractString(this.tags.BLOCK_START))) {\n        this.in_code = true;\n        return token(TOKEN_BLOCK_START, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_START + '-')) ||\n        (tok = this._extractString(this.tags.VARIABLE_START))) {\n        this.in_code = true;\n        return token(TOKEN_VARIABLE_START, tok, lineno, colno);\n      } else {\n        tok = '';\n        let data;\n        let inComment = false;\n\n        if (this._matches(this.tags.COMMENT_START)) {\n          inComment = true;\n          tok = this._extractString(this.tags.COMMENT_START);\n        }\n\n        // Continually consume text, breaking on the tag delimiter\n        // characters and checking to see if it's a start tag.\n        //\n        // We could hit the end of the template in the middle of\n        // our looping, so check for the null return value from\n        // _extractUntil\n        while ((data = this._extractUntil(beginChars)) !== null) {\n          tok += data;\n\n          if ((this._matches(this.tags.BLOCK_START) ||\n            this._matches(this.tags.VARIABLE_START) ||\n            this._matches(this.tags.COMMENT_START)) &&\n            !inComment) {\n            if (this.lstripBlocks &&\n              this._matches(this.tags.BLOCK_START) &&\n              this.colno > 0 &&\n              this.colno <= tok.length) {\n              let lastLine = tok.slice(-this.colno);\n              if (/^\\s+$/.test(lastLine)) {\n                // Remove block leading whitespace from beginning of the string\n                tok = tok.slice(0, -this.colno);\n                if (!tok.length) {\n                  // All data removed, collapse to avoid unnecessary nodes\n                  // by returning next token (block start)\n                  return this.nextToken();\n                }\n              }\n            }\n            // If it is a start tag, stop looping\n            break;\n          } else if (this._matches(this.tags.COMMENT_END)) {\n            if (!inComment) {\n              throw new Error('unexpected end of comment');\n            }\n            tok += this._extractString(this.tags.COMMENT_END);\n            break;\n          } else {\n            // It does not match any tag, so add the character and\n            // carry on\n            tok += this.current();\n            this.forward();\n          }\n        }\n\n        if (data === null && inComment) {\n          throw new Error('expected end of comment, got end of file');\n        }\n\n        return token(inComment ? TOKEN_COMMENT : TOKEN_DATA,\n          tok,\n          lineno,\n          colno);\n      }\n    }\n  }\n\n  _parseString(delimiter) {\n    this.forward();\n\n    let str = '';\n\n    while (!this.isFinished() && this.current() !== delimiter) {\n      let cur = this.current();\n\n      if (cur === '\\\\') {\n        this.forward();\n        switch (this.current()) {\n          case 'n':\n            str += '\\n';\n            break;\n          case 't':\n            str += '\\t';\n            break;\n          case 'r':\n            str += '\\r';\n            break;\n          default:\n            str += this.current();\n        }\n        this.forward();\n      } else {\n        str += cur;\n        this.forward();\n      }\n    }\n\n    this.forward();\n    return str;\n  }\n\n  _matches(str) {\n    if (this.index + str.length > this.len) {\n      return null;\n    }\n\n    let m = this.str.slice(this.index, this.index + str.length);\n    return m === str;\n  }\n\n  _extractString(str) {\n    if (this._matches(str)) {\n      this.forwardN(str.length);\n      return str;\n    }\n    return null;\n  }\n\n  _extractUntil(charString) {\n    // Extract all non-matching chars, with the default matching set\n    // to everything\n    return this._extractMatching(true, charString || '');\n  }\n\n  _extract(charString) {\n    // Extract all matching chars (no default, so charString must be\n    // explicit)\n    return this._extractMatching(false, charString);\n  }\n\n  _extractMatching(breakOnMatch, charString) {\n    // Pull out characters until a breaking char is hit.\n    // If breakOnMatch is false, a non-matching char stops it.\n    // If breakOnMatch is true, a matching char stops it.\n\n    if (this.isFinished()) {\n      return null;\n    }\n\n    let first = charString.indexOf(this.current());\n\n    // Only proceed if the first character doesn't meet our condition\n    if ((breakOnMatch && first === -1) ||\n      (!breakOnMatch && first !== -1)) {\n      let t = this.current();\n      this.forward();\n\n      // And pull out all the chars one at a time until we hit a\n      // breaking char\n      let idx = charString.indexOf(this.current());\n\n      while (((breakOnMatch && idx === -1) ||\n        (!breakOnMatch && idx !== -1)) && !this.isFinished()) {\n        t += this.current();\n        this.forward();\n\n        idx = charString.indexOf(this.current());\n      }\n\n      return t;\n    }\n\n    return '';\n  }\n\n  _extractRegex(regex) {\n    let matches = this.currentStr().match(regex);\n    if (!matches) {\n      return null;\n    }\n\n    // Move forward whatever was matched\n    this.forwardN(matches[0].length);\n\n    return matches;\n  }\n\n  isFinished() {\n    return this.index >= this.len;\n  }\n\n  forwardN(n) {\n    for (let i = 0; i < n; i++) {\n      this.forward();\n    }\n  }\n\n  forward() {\n    this.index++;\n\n    if (this.previous() === '\\n') {\n      this.lineno++;\n      this.colno = 0;\n    } else {\n      this.colno++;\n    }\n  }\n\n  backN(n) {\n    for (let i = 0; i < n; i++) {\n      this.back();\n    }\n  }\n\n  back() {\n    this.index--;\n\n    if (this.current() === '\\n') {\n      this.lineno--;\n\n      let idx = this.src.lastIndexOf('\\n', this.index - 1);\n      if (idx === -1) {\n        this.colno = this.index;\n      } else {\n        this.colno = this.index - idx;\n      }\n    } else {\n      this.colno--;\n    }\n  }\n\n  // current returns current character\n  current() {\n    if (!this.isFinished()) {\n      return this.str.charAt(this.index);\n    }\n    return '';\n  }\n\n  // currentStr returns what's left of the unparsed string\n  currentStr() {\n    if (!this.isFinished()) {\n      return this.str.substr(this.index);\n    }\n    return '';\n  }\n\n  previous() {\n    return this.str.charAt(this.index - 1);\n  }\n}\n\nmodule.exports = {\n  lex(src, opts) {\n    return new Tokenizer(src, opts);\n  },\n\n  TOKEN_STRING: TOKEN_STRING,\n  TOKEN_WHITESPACE: TOKEN_WHITESPACE,\n  TOKEN_DATA: TOKEN_DATA,\n  TOKEN_BLOCK_START: TOKEN_BLOCK_START,\n  TOKEN_BLOCK_END: TOKEN_BLOCK_END,\n  TOKEN_VARIABLE_START: TOKEN_VARIABLE_START,\n  TOKEN_VARIABLE_END: TOKEN_VARIABLE_END,\n  TOKEN_COMMENT: TOKEN_COMMENT,\n  TOKEN_LEFT_PAREN: TOKEN_LEFT_PAREN,\n  TOKEN_RIGHT_PAREN: TOKEN_RIGHT_PAREN,\n  TOKEN_LEFT_BRACKET: TOKEN_LEFT_BRACKET,\n  TOKEN_RIGHT_BRACKET: TOKEN_RIGHT_BRACKET,\n  TOKEN_LEFT_CURLY: TOKEN_LEFT_CURLY,\n  TOKEN_RIGHT_CURLY: TOKEN_RIGHT_CURLY,\n  TOKEN_OPERATOR: TOKEN_OPERATOR,\n  TOKEN_COMMA: TOKEN_COMMA,\n  TOKEN_COLON: TOKEN_COLON,\n  TOKEN_TILDE: TOKEN_TILDE,\n  TOKEN_PIPE: TOKEN_PIPE,\n  TOKEN_INT: TOKEN_INT,\n  TOKEN_FLOAT: TOKEN_FLOAT,\n  TOKEN_BOOLEAN: TOKEN_BOOLEAN,\n  TOKEN_NONE: TOKEN_NONE,\n  TOKEN_SYMBOL: TOKEN_SYMBOL,\n  TOKEN_SPECIAL: TOKEN_SPECIAL,\n  TOKEN_REGEX: TOKEN_REGEX\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/lexer.js","'use strict';\n\nconst Loader = require('./loader');\nconst {PrecompiledLoader} = require('./precompiled-loader.js');\n\nclass WebLoader extends Loader {\n  constructor(baseURL, opts) {\n    super();\n    this.baseURL = baseURL || '.';\n    opts = opts || {};\n\n    // By default, the cache is turned off because there's no way\n    // to \"watch\" templates over HTTP, so they are re-downloaded\n    // and compiled each time. (Remember, PRECOMPILE YOUR\n    // TEMPLATES in production!)\n    this.useCache = !!opts.useCache;\n\n    // We default `async` to false so that the simple synchronous\n    // API can be used when you aren't doing anything async in\n    // your templates (which is most of the time). This performs a\n    // sync ajax request, but that's ok because it should *only*\n    // happen in development. PRECOMPILE YOUR TEMPLATES.\n    this.async = !!opts.async;\n  }\n\n  resolve(from, to) {\n    throw new Error('relative templates not support in the browser yet');\n  }\n\n  getSource(name, cb) {\n    var useCache = this.useCache;\n    var result;\n    this.fetch(this.baseURL + '/' + name, (err, src) => {\n      if (err) {\n        if (cb) {\n          cb(err.content);\n        } else if (err.status === 404) {\n          result = null;\n        } else {\n          throw err.content;\n        }\n      } else {\n        result = {\n          src: src,\n          path: name,\n          noCache: !useCache\n        };\n        this.emit('load', name, result);\n        if (cb) {\n          cb(null, result);\n        }\n      }\n    });\n\n    // if this WebLoader isn't running asynchronously, the\n    // fetch above would actually run sync and we'll have a\n    // result here\n    return result;\n  }\n\n  fetch(url, cb) {\n    // Only in the browser please\n    if (typeof window === 'undefined') {\n      throw new Error('WebLoader can only by used in a browser');\n    }\n\n    const ajax = new XMLHttpRequest();\n    let loading = true;\n\n    ajax.onreadystatechange = () => {\n      if (ajax.readyState === 4 && loading) {\n        loading = false;\n        if (ajax.status === 0 || ajax.status === 200) {\n          cb(null, ajax.responseText);\n        } else {\n          cb({\n            status: ajax.status,\n            content: ajax.responseText\n          });\n        }\n      }\n    };\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + 's=' +\n    (new Date().getTime());\n\n    ajax.open('GET', url, this.async);\n    ajax.send();\n  }\n}\n\nmodule.exports = {\n  WebLoader: WebLoader,\n  PrecompiledLoader: PrecompiledLoader\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/web-loaders.js","'use strict';\n\nconst lib = require('./src/lib');\nconst {Environment, Template} = require('./src/environment');\nconst Loader = require('./src/loader');\nconst loaders = require('./src/loaders');\nconst precompile = require('./src/precompile');\nconst compiler = require('./src/compiler');\nconst parser = require('./src/parser');\nconst lexer = require('./src/lexer');\nconst runtime = require('./src/runtime');\nconst nodes = require('./src/nodes');\nconst installJinjaCompat = require('./src/jinja-compat');\n\n// A single instance of an environment, since this is so commonly used\nlet e;\n\nfunction configure(templatesPath, opts) {\n  opts = opts || {};\n  if (lib.isObject(templatesPath)) {\n    opts = templatesPath;\n    templatesPath = null;\n  }\n\n  let TemplateLoader;\n  if (loaders.FileSystemLoader) {\n    TemplateLoader = new loaders.FileSystemLoader(templatesPath, {\n      watch: opts.watch,\n      noCache: opts.noCache\n    });\n  } else if (loaders.WebLoader) {\n    TemplateLoader = new loaders.WebLoader(templatesPath, {\n      useCache: opts.web && opts.web.useCache,\n      async: opts.web && opts.web.async\n    });\n  }\n\n  e = new Environment(TemplateLoader, opts);\n\n  if (opts && opts.express) {\n    e.express(opts.express);\n  }\n\n  return e;\n}\n\nmodule.exports = {\n  Environment: Environment,\n  Template: Template,\n  Loader: Loader,\n  FileSystemLoader: loaders.FileSystemLoader,\n  NodeResolveLoader: loaders.NodeResolveLoader,\n  PrecompiledLoader: loaders.PrecompiledLoader,\n  WebLoader: loaders.WebLoader,\n  compiler: compiler,\n  parser: parser,\n  lexer: lexer,\n  runtime: runtime,\n  lib: lib,\n  nodes: nodes,\n  installJinjaCompat: installJinjaCompat,\n  configure: configure,\n  reset() {\n    e = undefined;\n  },\n  compile(src, env, path, eagerCompile) {\n    if (!e) {\n      configure();\n    }\n    return new Template(src, env, path, eagerCompile);\n  },\n  render(name, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.render(name, ctx, cb);\n  },\n  renderString(src, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n\n    return e.renderString(src, ctx, cb);\n  },\n  precompile: (precompile) ? precompile.precompile : undefined,\n  precompileString: (precompile) ? precompile.precompileString : undefined,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/index.js","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-asap.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/asap/browser-raw.js\n// module id = 13\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 14\n// module chunks = 0","// MIT license (by Elan Shanker).\n(function(globals) {\n  'use strict';\n\n  var executeSync = function(){\n    var args = Array.prototype.slice.call(arguments);\n    if (typeof args[0] === 'function'){\n      args[0].apply(null, args.splice(1));\n    }\n  };\n\n  var executeAsync = function(fn){\n    if (typeof setImmediate === 'function') {\n      setImmediate(fn);\n    } else if (typeof process !== 'undefined' && process.nextTick) {\n      process.nextTick(fn);\n    } else {\n      setTimeout(fn, 0);\n    }\n  };\n\n  var makeIterator = function (tasks) {\n    var makeCallback = function (index) {\n      var fn = function () {\n        if (tasks.length) {\n          tasks[index].apply(null, arguments);\n        }\n        return fn.next();\n      };\n      fn.next = function () {\n        return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n      };\n      return fn;\n    };\n    return makeCallback(0);\n  };\n  \n  var _isArray = Array.isArray || function(maybeArray){\n    return Object.prototype.toString.call(maybeArray) === '[object Array]';\n  };\n\n  var waterfall = function (tasks, callback, forceAsync) {\n    var nextTick = forceAsync ? executeAsync : executeSync;\n    callback = callback || function () {};\n    if (!_isArray(tasks)) {\n      var err = new Error('First argument to waterfall must be an array of functions');\n      return callback(err);\n    }\n    if (!tasks.length) {\n      return callback();\n    }\n    var wrapIterator = function (iterator) {\n      return function (err) {\n        if (err) {\n          callback.apply(null, arguments);\n          callback = function () {};\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var next = iterator.next();\n          if (next) {\n            args.push(wrapIterator(next));\n          } else {\n            args.push(callback);\n          }\n          nextTick(function () {\n            iterator.apply(null, args);\n          });\n        }\n      };\n    };\n    wrapIterator(makeIterator(tasks))();\n  };\n\n  if (typeof define !== 'undefined' && define.amd) {\n    define([], function () {\n      return waterfall;\n    }); // RequireJS\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = waterfall; // CommonJS\n  } else {\n    globals.waterfall = waterfall; // <script>\n  }\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/a-sync-waterfall/index.js\n// module id = 15\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/events/events.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nvar nodes = require('./nodes');\nvar lib = require('./lib');\n\nvar sym = 0;\nfunction gensym() {\n  return 'hole_' + sym++;\n}\n\n// copy-on-write version of map\nfunction mapCOW(arr, func) {\n  var res = null;\n  for (let i = 0; i < arr.length; i++) {\n    const item = func(arr[i]);\n\n    if (item !== arr[i]) {\n      if (!res) {\n        res = arr.slice();\n      }\n\n      res[i] = item;\n    }\n  }\n\n  return res || arr;\n}\n\nfunction walk(ast, func, depthFirst) {\n  if (!(ast instanceof nodes.Node)) {\n    return ast;\n  }\n\n  if (!depthFirst) {\n    const astT = func(ast);\n\n    if (astT && astT !== ast) {\n      return astT;\n    }\n  }\n\n  if (ast instanceof nodes.NodeList) {\n    const children = mapCOW(ast.children, (node) => walk(node, func, depthFirst));\n\n    if (children !== ast.children) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno, children);\n    }\n  } else if (ast instanceof nodes.CallExtension) {\n    const args = walk(ast.args, func, depthFirst);\n    const contentArgs = mapCOW(ast.contentArgs, (node) => walk(node, func, depthFirst));\n\n    if (args !== ast.args || contentArgs !== ast.contentArgs) {\n      ast = new nodes[ast.typename](ast.extName, ast.prop, args, contentArgs);\n    }\n  } else {\n    const props = ast.fields.map((field) => ast[field]);\n    const propsT = mapCOW(props, (prop) => walk(prop, func, depthFirst));\n\n    if (propsT !== props) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno);\n      propsT.forEach((prop, i) => {\n        ast[ast.fields[i]] = prop;\n      });\n    }\n  }\n\n  return depthFirst ? (func(ast) || ast) : ast;\n}\n\nfunction depthWalk(ast, func) {\n  return walk(ast, func, true);\n}\n\nfunction _liftFilters(node, asyncFilters, prop) {\n  var children = [];\n\n  var walked = depthWalk(prop ? node[prop] : node, (descNode) => {\n    let symbol;\n    if (descNode instanceof nodes.Block) {\n      return descNode;\n    } else if ((descNode instanceof nodes.Filter &&\n      lib.indexOf(asyncFilters, descNode.name.value) !== -1) ||\n      descNode instanceof nodes.CallExtensionAsync) {\n      symbol = new nodes.Symbol(descNode.lineno,\n        descNode.colno,\n        gensym());\n\n      children.push(new nodes.FilterAsync(descNode.lineno,\n        descNode.colno,\n        descNode.name,\n        descNode.args,\n        symbol));\n    }\n    return symbol;\n  });\n\n  if (prop) {\n    node[prop] = walked;\n  } else {\n    node = walked;\n  }\n\n  if (children.length) {\n    children.push(node);\n\n    return new nodes.NodeList(\n      node.lineno,\n      node.colno,\n      children\n    );\n  } else {\n    return node;\n  }\n}\n\nfunction liftFilters(ast, asyncFilters) {\n  return depthWalk(ast, (node) => {\n    if (node instanceof nodes.Output) {\n      return _liftFilters(node, asyncFilters);\n    } else if (node instanceof nodes.Set) {\n      return _liftFilters(node, asyncFilters, 'value');\n    } else if (node instanceof nodes.For) {\n      return _liftFilters(node, asyncFilters, 'arr');\n    } else if (node instanceof nodes.If) {\n      return _liftFilters(node, asyncFilters, 'cond');\n    } else if (node instanceof nodes.CallExtension) {\n      return _liftFilters(node, asyncFilters, 'args');\n    } else {\n      return undefined;\n    }\n  });\n}\n\nfunction liftSuper(ast) {\n  return walk(ast, (blockNode) => {\n    if (!(blockNode instanceof nodes.Block)) {\n      return;\n    }\n\n    let hasSuper = false;\n    const symbol = gensym();\n\n    blockNode.body = walk(blockNode.body, (node) => { // eslint-disable-line consistent-return\n      if (node instanceof nodes.FunCall && node.name.value === 'super') {\n        hasSuper = true;\n        return new nodes.Symbol(node.lineno, node.colno, symbol);\n      }\n    });\n\n    if (hasSuper) {\n      blockNode.body.children.unshift(new nodes.Super(\n        0, 0, blockNode.name, new nodes.Symbol(0, 0, symbol)\n      ));\n    }\n  });\n}\n\nfunction convertStatements(ast) {\n  return depthWalk(ast, (node) => {\n    if (!(node instanceof nodes.If) && !(node instanceof nodes.For)) {\n      return undefined;\n    }\n\n    let async = false;\n    walk(node, (child) => {\n      if (child instanceof nodes.FilterAsync ||\n        child instanceof nodes.IfAsync ||\n        child instanceof nodes.AsyncEach ||\n        child instanceof nodes.AsyncAll ||\n        child instanceof nodes.CallExtensionAsync) {\n        async = true;\n        // Stop iterating by returning the node\n        return child;\n      }\n      return undefined;\n    });\n\n    if (async) {\n      if (node instanceof nodes.If) {\n        return new nodes.IfAsync(\n          node.lineno,\n          node.colno,\n          node.cond,\n          node.body,\n          node.else_\n        );\n      } else if (node instanceof nodes.For && !(node instanceof nodes.AsyncAll)) {\n        return new nodes.AsyncEach(\n          node.lineno,\n          node.colno,\n          node.arr,\n          node.name,\n          node.body,\n          node.else_\n        );\n      }\n    }\n    return undefined;\n  });\n}\n\nfunction cps(ast, asyncFilters) {\n  return convertStatements(liftSuper(liftFilters(ast, asyncFilters)));\n}\n\nfunction transform(ast, asyncFilters) {\n  return cps(ast, asyncFilters || []);\n}\n\n// var parser = require('./parser');\n// var src = 'hello {% foo %}{% endfoo %} end';\n// var ast = transform(parser.parse(src, [new FooExtension()]), ['bar']);\n// nodes.printNodes(ast);\n\nmodule.exports = {\n  transform: transform\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/transformer.js","'use strict';\n\nvar lib = require('./lib');\nvar r = require('./runtime');\n\nvar exports = module.exports = {};\n\nfunction normalize(value, defaultValue) {\n  if (value === null || value === undefined || value === false) {\n    return defaultValue;\n  }\n  return value;\n}\n\nexports.abs = Math.abs;\n\nfunction isNaN(num) {\n  return num !== num; // eslint-disable-line no-self-compare\n}\n\nfunction batch(arr, linecount, fillWith) {\n  var i;\n  var res = [];\n  var tmp = [];\n\n  for (i = 0; i < arr.length; i++) {\n    if (i % linecount === 0 && tmp.length) {\n      res.push(tmp);\n      tmp = [];\n    }\n\n    tmp.push(arr[i]);\n  }\n\n  if (tmp.length) {\n    if (fillWith) {\n      for (i = tmp.length; i < linecount; i++) {\n        tmp.push(fillWith);\n      }\n    }\n\n    res.push(tmp);\n  }\n\n  return res;\n}\n\nexports.batch = batch;\n\nfunction capitalize(str) {\n  str = normalize(str, '');\n  const ret = str.toLowerCase();\n  return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n}\n\nexports.capitalize = capitalize;\n\nfunction center(str, width) {\n  str = normalize(str, '');\n  width = width || 80;\n\n  if (str.length >= width) {\n    return str;\n  }\n\n  const spaces = width - str.length;\n  const pre = lib.repeat(' ', (spaces / 2) - (spaces % 2));\n  const post = lib.repeat(' ', spaces / 2);\n  return r.copySafeness(str, pre + str + post);\n}\n\nexports.center = center;\n\nfunction default_(val, def, bool) {\n  if (bool) {\n    return val || def;\n  } else {\n    return (val !== undefined) ? val : def;\n  }\n}\n\n// TODO: it is confusing to export something called 'default'\nexports['default'] = default_; // eslint-disable-line dot-notation\n\nfunction dictsort(val, caseSensitive, by) {\n  if (!lib.isObject(val)) {\n    throw new lib.TemplateError('dictsort filter: val must be an object');\n  }\n\n  let array = [];\n  // deliberately include properties from the object's prototype\n  for (let k in val) { // eslint-disable-line guard-for-in, no-restricted-syntax\n    array.push([k, val[k]]);\n  }\n\n  let si;\n  if (by === undefined || by === 'key') {\n    si = 0;\n  } else if (by === 'value') {\n    si = 1;\n  } else {\n    throw new lib.TemplateError(\n      'dictsort filter: You can only sort by either key or value');\n  }\n\n  array.sort((t1, t2) => {\n    var a = t1[si];\n    var b = t2[si];\n\n    if (!caseSensitive) {\n      if (lib.isString(a)) {\n        a = a.toUpperCase();\n      }\n      if (lib.isString(b)) {\n        b = b.toUpperCase();\n      }\n    }\n\n    return a > b ? 1 : (a === b ? 0 : -1); // eslint-disable-line no-nested-ternary\n  });\n\n  return array;\n}\n\nexports.dictsort = dictsort;\n\nfunction dump(obj, spaces) {\n  return JSON.stringify(obj, null, spaces);\n}\n\nexports.dump = dump;\n\nfunction escape(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.escape = escape;\n\nfunction safe(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(str.toString());\n}\n\nexports.safe = safe;\n\nfunction first(arr) {\n  return arr[0];\n}\n\nexports.first = first;\n\nfunction forceescape(str) {\n  str = (str === null || str === undefined) ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\n\nexports.forceescape = forceescape;\n\nfunction groupby(arr, attr) {\n  return lib.groupBy(arr, attr);\n}\n\nexports.groupby = groupby;\n\nfunction indent(str, width, indentfirst) {\n  str = normalize(str, '');\n\n  if (str === '') {\n    return '';\n  }\n\n  width = width || 4;\n  // let res = '';\n  const lines = str.split('\\n');\n  const sp = lib.repeat(' ', width);\n\n  const res = lines.map((l, i) => {\n    return (i === 0 && !indentfirst) ? `${l}\\n` : `${sp}${l}\\n`;\n  }).join('');\n\n  return r.copySafeness(str, res);\n}\n\nexports.indent = indent;\n\nfunction join(arr, del, attr) {\n  del = del || '';\n\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return arr.join(del);\n}\n\nexports.join = join;\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nexports.last = last;\n\nfunction lengthFilter(val) {\n  var value = normalize(val, '');\n\n  if (value !== undefined) {\n    if (\n      (typeof Map === 'function' && value instanceof Map) ||\n      (typeof Set === 'function' && value instanceof Set)\n    ) {\n      // ECMAScript 2015 Maps and Sets\n      return value.size;\n    }\n    if (lib.isObject(value) && !(value instanceof r.SafeString)) {\n      // Objects (besides SafeStrings), non-primative Arrays\n      return lib.keys(value).length;\n    }\n    return value.length;\n  }\n  return 0;\n}\n\nexports.length = lengthFilter;\n\nfunction list(val) {\n  if (lib.isString(val)) {\n    return val.split('');\n  } else if (lib.isObject(val)) {\n    return lib._entries(val || {}).map(([key, value]) => ({key, value}));\n  } else if (lib.isArray(val)) {\n    return val;\n  } else {\n    throw new lib.TemplateError('list filter: type not iterable');\n  }\n}\n\nexports.list = list;\n\nfunction lower(str) {\n  str = normalize(str, '');\n  return str.toLowerCase();\n}\n\nexports.lower = lower;\n\nfunction nl2br(str) {\n  if (str === null || str === undefined) {\n    return '';\n  }\n  return r.copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n}\n\nexports.nl2br = nl2br;\n\nfunction random(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexports.random = random;\n\nfunction rejectattr(arr, attr) {\n  return arr.filter((item) => !item[attr]);\n}\n\nexports.rejectattr = rejectattr;\n\nfunction selectattr(arr, attr) {\n  return arr.filter((item) => !!item[attr]);\n}\n\nexports.selectattr = selectattr;\n\nfunction replace(str, old, new_, maxCount) {\n  var originalStr = str;\n\n  if (old instanceof RegExp) {\n    return str.replace(old, new_);\n  }\n\n  if (typeof maxCount === 'undefined') {\n    maxCount = -1;\n  }\n\n  let res = ''; // Output\n\n  // Cast Numbers in the search term to string\n  if (typeof old === 'number') {\n    old = '' + old;\n  } else if (typeof old !== 'string') {\n    // If it is something other than number or string,\n    // return the original string\n    return str;\n  }\n\n  // Cast numbers in the replacement to string\n  if (typeof str === 'number') {\n    str = '' + str;\n  }\n\n  // If by now, we don't have a string, throw it back\n  if (typeof str !== 'string' && !(str instanceof r.SafeString)) {\n    return str;\n  }\n\n  // ShortCircuits\n  if (old === '') {\n    // Mimic the python behaviour: empty string is replaced\n    // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n    res = new_ + str.split('').join(new_) + new_;\n    return r.copySafeness(str, res);\n  }\n\n  let nextIndex = str.indexOf(old);\n  // if # of replacements to perform is 0, or the string to does\n  // not contain the old value, return the string\n  if (maxCount === 0 || nextIndex === -1) {\n    return str;\n  }\n\n  let pos = 0;\n  let count = 0; // # of replacements made\n\n  while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n    // Grab the next chunk of src string and add it with the\n    // replacement, to the result\n    res += str.substring(pos, nextIndex) + new_;\n    // Increment our pointer in the src string\n    pos = nextIndex + old.length;\n    count++;\n    // See if there are any more replacements to be made\n    nextIndex = str.indexOf(old, pos);\n  }\n\n  // We've either reached the end, or done the max # of\n  // replacements, tack on any remaining string\n  if (pos < str.length) {\n    res += str.substring(pos);\n  }\n\n  return r.copySafeness(originalStr, res);\n}\n\nexports.replace = replace;\n\nfunction reverse(val) {\n  var arr;\n  if (lib.isString(val)) {\n    arr = list(val);\n  } else {\n    // Copy it\n    arr = lib.map(val, v => v);\n  }\n\n  arr.reverse();\n\n  if (lib.isString(val)) {\n    return r.copySafeness(val, arr.join(''));\n  }\n  return arr;\n}\n\nexports.reverse = reverse;\n\nfunction round(val, precision, method) {\n  precision = precision || 0;\n  const factor = Math.pow(10, precision);\n  let rounder;\n\n  if (method === 'ceil') {\n    rounder = Math.ceil;\n  } else if (method === 'floor') {\n    rounder = Math.floor;\n  } else {\n    rounder = Math.round;\n  }\n\n  return rounder(val * factor) / factor;\n}\n\nexports.round = round;\n\nfunction slice(arr, slices, fillWith) {\n  const sliceLength = Math.floor(arr.length / slices);\n  const extra = arr.length % slices;\n  const res = [];\n  let offset = 0;\n\n  for (let i = 0; i < slices; i++) {\n    const start = offset + (i * sliceLength);\n    if (i < extra) {\n      offset++;\n    }\n    const end = offset + ((i + 1) * sliceLength);\n\n    const currSlice = arr.slice(start, end);\n    if (fillWith && i >= extra) {\n      currSlice.push(fillWith);\n    }\n    res.push(currSlice);\n  }\n\n  return res;\n}\n\nexports.slice = slice;\n\nfunction sum(arr, attr, start = 0) {\n  if (attr) {\n    arr = lib.map(arr, (v) => v[attr]);\n  }\n\n  return start + arr.reduce((a, b) => a + b, 0);\n}\n\nexports.sum = sum;\n\nexports.sort = r.makeMacro(\n  ['value', 'reverse', 'case_sensitive', 'attribute'], [],\n  (arr, reversed, caseSens, attr) => {\n    // Copy it\n    let array = lib.map(arr, v => v);\n\n    array.sort((a, b) => {\n      let x = (attr) ? a[attr] : a;\n      let y = (attr) ? b[attr] : b;\n\n      if (!caseSens && lib.isString(x) && lib.isString(y)) {\n        x = x.toLowerCase();\n        y = y.toLowerCase();\n      }\n\n      if (x < y) {\n        return reversed ? 1 : -1;\n      } else if (x > y) {\n        return reversed ? -1 : 1;\n      } else {\n        return 0;\n      }\n    });\n\n    return array;\n  });\n\nfunction string(obj) {\n  return r.copySafeness(obj, obj);\n}\n\nexports.string = string;\n\nfunction striptags(input, preserveLinebreaks) {\n  input = normalize(input, '');\n  let tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n  let trimmedInput = trim(input.replace(tags, ''));\n  let res = '';\n  if (preserveLinebreaks) {\n    res = trimmedInput\n      .replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n      .replace(/ +/g, ' ') // squash adjacent spaces\n      .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n      .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n  } else {\n    res = trimmedInput.replace(/\\s+/gi, ' ');\n  }\n  return r.copySafeness(input, res);\n}\n\nexports.striptags = striptags;\n\nfunction title(str) {\n  str = normalize(str, '');\n  let words = str.split(' ').map(word => capitalize(word));\n  return r.copySafeness(str, words.join(' '));\n}\n\nexports.title = title;\n\nfunction trim(str) {\n  return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n}\n\nexports.trim = trim;\n\nfunction truncate(input, length, killwords, end) {\n  var orig = input;\n  input = normalize(input, '');\n  length = length || 255;\n\n  if (input.length <= length) {\n    return input;\n  }\n\n  if (killwords) {\n    input = input.substring(0, length);\n  } else {\n    let idx = input.lastIndexOf(' ', length);\n    if (idx === -1) {\n      idx = length;\n    }\n\n    input = input.substring(0, idx);\n  }\n\n  input += (end !== undefined && end !== null) ? end : '...';\n  return r.copySafeness(orig, input);\n}\n\nexports.truncate = truncate;\n\nfunction upper(str) {\n  str = normalize(str, '');\n  return str.toUpperCase();\n}\n\nexports.upper = upper;\n\nfunction urlencode(obj) {\n  var enc = encodeURIComponent;\n  if (lib.isString(obj)) {\n    return enc(obj);\n  } else {\n    let keyvals = (lib.isArray(obj)) ? obj : lib._entries(obj);\n    return keyvals.map(([k, v]) => `${enc(k)}=${enc(v)}`).join('&');\n  }\n}\n\nexports.urlencode = urlencode;\n\n// For the jinja regexp, see\n// https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\nconst puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n// from http://blog.gerv.net/2011/05/html5_email_address_regexp/\nconst emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\nconst httpHttpsRe = /^https?:\\/\\/.*$/;\nconst wwwRe = /^www\\./;\nconst tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n\nfunction urlize(str, length, nofollow) {\n  if (isNaN(length)) {\n    length = Infinity;\n  }\n\n  const noFollowAttr = (nofollow === true ? ' rel=\"nofollow\"' : '');\n\n  const words = str.split(/(\\s+)/).filter((word) => {\n    // If the word has no length, bail. This can happen for str with\n    // trailing whitespace.\n    return word && word.length;\n  }).map((word) => {\n    var matches = word.match(puncRe);\n    var possibleUrl = (matches) ? matches[1] : word;\n    var shortUrl = possibleUrl.substr(0, length);\n\n    // url that starts with http or https\n    if (httpHttpsRe.test(possibleUrl)) {\n      return `<a href=\"${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // url that starts with www.\n    if (wwwRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // an email address of the form username@domain.tld\n    if (emailRe.test(possibleUrl)) {\n      return `<a href=\"mailto:${possibleUrl}\">${possibleUrl}</a>`;\n    }\n\n    // url that ends in .com, .org or .net that is not an email address\n    if (tldRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    return word;\n  });\n\n  return words.join('');\n}\n\nexports.urlize = urlize;\n\nfunction wordcount(str) {\n  str = normalize(str, '');\n  const words = (str) ? str.match(/\\w+/g) : null;\n  return (words) ? words.length : null;\n}\n\nexports.wordcount = wordcount;\n\nfunction float(val, def) {\n  var res = parseFloat(val);\n  return (isNaN(res)) ? def : res;\n}\n\nexports.float = float;\n\nfunction int(val, def) {\n  var res = parseInt(val, 10);\n  return (isNaN(res)) ? def : res;\n}\n\nexports.int = int;\n\n// Aliases\nexports.d = exports.default;\nexports.e = exports.escape;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/filters.js","'use strict';\n\nconst Loader = require('./loader');\n\nclass PrecompiledLoader extends Loader {\n  constructor(compiledTemplates) {\n    super();\n    this.precompiled = compiledTemplates || {};\n  }\n\n  getSource(name) {\n    if (this.precompiled[name]) {\n      return {\n        src: {\n          type: 'code',\n          obj: this.precompiled[name]\n        },\n        path: name\n      };\n    }\n    return null;\n  }\n}\n\nmodule.exports = {\n  PrecompiledLoader: PrecompiledLoader,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompiled-loader.js","'use strict';\n\nvar SafeString = require('./runtime').SafeString;\n\n/**\n * Returns `true` if the object is a function, otherwise `false`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction callable(value) {\n  return typeof value === 'function';\n}\n\nexports.callable = callable;\n\n/**\n * Returns `true` if the object is strictly not `undefined`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction defined(value) {\n  return value !== undefined;\n}\n\nexports.defined = defined;\n\n/**\n * Returns `true` if the operand (one) is divisble by the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction divisibleby(one, two) {\n  return (one % two) === 0;\n}\n\nexports.divisibleby = divisibleby;\n\n/**\n * Returns true if the string has been escaped (i.e., is a SafeString).\n * @param { any } value\n * @returns { boolean }\n */\nfunction escaped(value) {\n  return value instanceof SafeString;\n}\n\nexports.escaped = escaped;\n\n/**\n * Returns `true` if the arguments are strictly equal.\n * @param { any } one\n * @param { any } two\n */\nfunction equalto(one, two) {\n  return one === two;\n}\n\nexports.equalto = equalto;\n\n// Aliases\nexports.eq = exports.equalto;\nexports.sameas = exports.equalto;\n\n/**\n * Returns `true` if the value is evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction even(value) {\n  return value % 2 === 0;\n}\n\nexports.even = even;\n\n/**\n * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n * undefined, NaN or null. I don't know if we should stick to the default JS\n * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n * empty arrays, empty dicts, not 0...).\n * @param { any } value\n * @returns { boolean }\n */\nfunction falsy(value) {\n  return !value;\n}\n\nexports.falsy = falsy;\n\n/**\n * Returns `true` if the operand (one) is greater or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ge(one, two) {\n  return one >= two;\n}\n\nexports.ge = ge;\n\n/**\n * Returns `true` if the operand (one) is greater than the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction greaterthan(one, two) {\n  return one > two;\n}\n\nexports.greaterthan = greaterthan;\n\n// alias\nexports.gt = exports.greaterthan;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction le(one, two) {\n  return one <= two;\n}\n\nexports.le = le;\n\n/**\n * Returns `true` if the operand (one) is less than the test's passed argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction lessthan(one, two) {\n  return one < two;\n}\n\nexports.lessthan = lessthan;\n\n// alias\nexports.lt = exports.lessthan;\n\n/**\n * Returns `true` if the string is lowercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction lower(value) {\n  return value.toLowerCase() === value;\n}\n\nexports.lower = lower;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ne(one, two) {\n  return one !== two;\n}\n\nexports.ne = ne;\n\n/**\n * Returns true if the value is strictly equal to `null`.\n * @param { any }\n * @returns { boolean }\n */\nfunction nullTest(value) {\n  return value === null;\n}\n\nexports.null = nullTest;\n\n/**\n * Returns true if value is a number.\n * @param { any }\n * @returns { boolean }\n */\nfunction number(value) {\n  return typeof value === 'number';\n}\n\nexports.number = number;\n\n/**\n * Returns `true` if the value is *not* evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction odd(value) {\n  return value % 2 === 1;\n}\n\nexports.odd = odd;\n\n/**\n * Returns `true` if the value is a string, `false` if not.\n * @param { any } value\n * @returns { boolean }\n */\nfunction string(value) {\n  return typeof value === 'string';\n}\n\nexports.string = string;\n\n/**\n * Returns `true` if the value is not in the list of things considered falsy:\n * '', null, undefined, 0, NaN and false.\n * @param { any } value\n * @returns { boolean }\n */\nfunction truthy(value) {\n  return !!value;\n}\n\nexports.truthy = truthy;\n\n/**\n * Returns `true` if the value is undefined.\n * @param { any } value\n * @returns { boolean }\n */\nfunction undefinedTest(value) {\n  return value === undefined;\n}\n\nexports.undefined = undefinedTest;\n\n/**\n * Returns `true` if the string is uppercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction upper(value) {\n  return value.toUpperCase() === value;\n}\n\nexports.upper = upper;\n\n/**\n * If ES6 features are available, returns `true` if the value implements the\n * `Symbol.iterator` method. If not, it's a string or Array.\n *\n * Could potentially cause issues if a browser exists that has Set and Map but\n * not Symbol.\n *\n * @param { any } value\n * @returns { boolean }\n */\nfunction iterable(value) {\n  if (typeof Symbol !== 'undefined') {\n    return !!value[Symbol.iterator];\n  } else {\n    return Array.isArray(value) || typeof value === 'string';\n  }\n}\n\nexports.iterable = iterable;\n\n/**\n * If ES6 features are available, returns `true` if the value is an object hash\n * or an ES6 Map. Otherwise just return if it's an object hash.\n * @param { any } value\n * @returns { boolean }\n */\nfunction mapping(value) {\n  // only maps and object hashes\n  var bool = value !== null\n    && value !== undefined\n    && typeof value === 'object'\n    && !Array.isArray(value);\n  if (Set) {\n    return bool && !(value instanceof Set);\n  } else {\n    return bool;\n  }\n}\n\nexports.mapping = mapping;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/tests.js","'use strict';\n\nfunction cycler(items) {\n  var index = -1;\n\n  return {\n    current: null,\n    reset() {\n      index = -1;\n      this.current = null;\n    },\n\n    next() {\n      index++;\n      if (index >= items.length) {\n        index = 0;\n      }\n\n      this.current = items[index];\n      return this.current;\n    },\n  };\n}\n\nfunction joiner(sep) {\n  sep = sep || ',';\n  let first = true;\n\n  return () => {\n    const val = first ? '' : sep;\n    first = false;\n    return val;\n  };\n}\n\n// Making this a function instead so it returns a new object\n// each time it's called. That way, if something like an environment\n// uses it, they will each have their own copy.\nfunction globals() {\n  return {\n    range(start, stop, step) {\n      if (typeof stop === 'undefined') {\n        stop = start;\n        start = 0;\n        step = 1;\n      } else if (!step) {\n        step = 1;\n      }\n\n      const arr = [];\n      if (step > 0) {\n        for (let i = start; i < stop; i += step) {\n          arr.push(i);\n        }\n      } else {\n        for (let i = start; i > stop; i += step) { // eslint-disable-line for-direction\n          arr.push(i);\n        }\n      }\n      return arr;\n    },\n\n    cycler() {\n      return cycler(Array.prototype.slice.call(arguments));\n    },\n\n    joiner(sep) {\n      return joiner(sep);\n    }\n  };\n}\n\nmodule.exports = globals;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/globals.js","const path = require('path');\n\nmodule.exports = function express(env, app) {\n  function NunjucksView(name, opts) {\n    this.name = name;\n    this.path = name;\n    this.defaultEngine = opts.defaultEngine;\n    this.ext = path.extname(name);\n    if (!this.ext && !this.defaultEngine) {\n      throw new Error('No default engine was specified and no extension was provided.');\n    }\n    if (!this.ext) {\n      this.name += (this.ext = (this.defaultEngine[0] !== '.' ? '.' : '') + this.defaultEngine);\n    }\n  }\n\n  NunjucksView.prototype.render = function render(opts, cb) {\n    env.render(this.name, opts, cb);\n  };\n\n  app.set('view', NunjucksView);\n  app.set('nunjucksEnv', env);\n  return env;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/express-app.js","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst {_prettifyError} = require('./lib');\nconst compiler = require('./compiler');\nconst {Environment} = require('./environment');\nconst precompileGlobal = require('./precompile-global');\n\nfunction match(filename, patterns) {\n  if (!Array.isArray(patterns)) {\n    return false;\n  }\n  return patterns.some((pattern) => filename.match(pattern));\n}\n\nfunction precompileString(str, opts) {\n  opts = opts || {};\n  opts.isString = true;\n  const env = opts.env || new Environment([]);\n  const wrapper = opts.wrapper || precompileGlobal;\n\n  if (!opts.name) {\n    throw new Error('the \"name\" option is required when compiling a string');\n  }\n  return wrapper([_precompile(str, opts.name, env)], opts);\n}\n\nfunction precompile(input, opts) {\n  // The following options are available:\n  //\n  // * name: name of the template (auto-generated when compiling a directory)\n  // * isString: input is a string, not a file path\n  // * asFunction: generate a callable function\n  // * force: keep compiling on error\n  // * env: the Environment to use (gets extensions and async filters from it)\n  // * include: which file/folders to include (folders are auto-included, files are auto-excluded)\n  // * exclude: which file/folders to exclude (folders are auto-included, files are auto-excluded)\n  // * wrapper: function(templates, opts) {...}\n  //       Customize the output format to store the compiled template.\n  //       By default, templates are stored in a global variable used by the runtime.\n  //       A custom loader will be necessary to load your custom wrapper.\n\n  opts = opts || {};\n  const env = opts.env || new Environment([]);\n  const wrapper = opts.wrapper || precompileGlobal;\n\n  if (opts.isString) {\n    return precompileString(input, opts);\n  }\n\n  const pathStats = fs.existsSync(input) && fs.statSync(input);\n  const precompiled = [];\n  const templates = [];\n\n  function addTemplates(dir) {\n    fs.readdirSync(dir).forEach((file) => {\n      const filepath = path.join(dir, file);\n      let subpath = filepath.substr(path.join(input, '/').length);\n      const stat = fs.statSync(filepath);\n\n      if (stat && stat.isDirectory()) {\n        subpath += '/';\n        if (!match(subpath, opts.exclude)) {\n          addTemplates(filepath);\n        }\n      } else if (match(subpath, opts.include)) {\n        templates.push(filepath);\n      }\n    });\n  }\n\n  if (pathStats.isFile()) {\n    precompiled.push(_precompile(\n      fs.readFileSync(input, 'utf-8'),\n      opts.name || input,\n      env\n    ));\n  } else if (pathStats.isDirectory()) {\n    addTemplates(input);\n\n    for (let i = 0; i < templates.length; i++) {\n      const name = templates[i].replace(path.join(input, '/'), '');\n\n      try {\n        precompiled.push(_precompile(\n          fs.readFileSync(templates[i], 'utf-8'),\n          name,\n          env\n        ));\n      } catch (e) {\n        if (opts.force) {\n          // Don't stop generating the output if we're\n          // forcing compilation.\n          console.error(e); // eslint-disable-line no-console\n        } else {\n          throw e;\n        }\n      }\n    }\n  }\n\n  return wrapper(precompiled, opts);\n}\n\nfunction _precompile(str, name, env) {\n  env = env || new Environment([]);\n\n  const asyncFilters = env.asyncFilters;\n  const extensions = env.extensionsList;\n  let template;\n\n  name = name.replace(/\\\\/g, '/');\n\n  try {\n    template = compiler.compile(str,\n      asyncFilters,\n      extensions,\n      name,\n      env.opts);\n  } catch (err) {\n    throw _prettifyError(name, false, err);\n  }\n\n  return {\n    name: name,\n    template: template\n  };\n}\n\nmodule.exports = {\n  precompile: precompile,\n  precompileString: precompileString\n};\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompile.js","'use strict';\n\nfunction precompileGlobal(templates, opts) {\n  var out = '';\n  opts = opts || {};\n\n  for (let i = 0; i < templates.length; i++) {\n    const name = JSON.stringify(templates[i].name);\n    const template = templates[i].template;\n\n    out += '(function() {' +\n      '(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})' +\n      '[' + name + '] = (function() {\\n' + template + '\\n})();\\n';\n\n    if (opts.asFunction) {\n      out += 'return function(ctx, cb) { return nunjucks.render(' + name + ', ctx, cb); }\\n';\n    }\n\n    out += '})();\\n';\n  }\n  return out;\n}\n\nmodule.exports = precompileGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/precompile-global.js","function installCompat() {\n  'use strict';\n\n  /* eslint-disable camelcase */\n\n  // This must be called like `nunjucks.installCompat` so that `this`\n  // references the nunjucks instance\n  var runtime = this.runtime;\n  var lib = this.lib;\n  // Handle slim case where these 'modules' are excluded from the built source\n  var Compiler = this.compiler.Compiler;\n  var Parser = this.parser.Parser;\n  var nodes = this.nodes;\n  var lexer = this.lexer;\n\n  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;\n  var orig_memberLookup = runtime.memberLookup;\n  var orig_Compiler_assertType;\n  var orig_Parser_parseAggregate;\n  if (Compiler) {\n    orig_Compiler_assertType = Compiler.prototype.assertType;\n  }\n  if (Parser) {\n    orig_Parser_parseAggregate = Parser.prototype.parseAggregate;\n  }\n\n  function uninstall() {\n    runtime.contextOrFrameLookup = orig_contextOrFrameLookup;\n    runtime.memberLookup = orig_memberLookup;\n    if (Compiler) {\n      Compiler.prototype.assertType = orig_Compiler_assertType;\n    }\n    if (Parser) {\n      Parser.prototype.parseAggregate = orig_Parser_parseAggregate;\n    }\n  }\n\n  runtime.contextOrFrameLookup = function contextOrFrameLookup(context, frame, key) {\n    var val = orig_contextOrFrameLookup.apply(this, arguments);\n    if (val !== undefined) {\n      return val;\n    }\n    switch (key) {\n      case 'True':\n        return true;\n      case 'False':\n        return false;\n      case 'None':\n        return null;\n      default:\n        return undefined;\n    }\n  };\n\n  function getTokensState(tokens) {\n    return {\n      index: tokens.index,\n      lineno: tokens.lineno,\n      colno: tokens.colno\n    };\n  }\n\n  if (process.env.BUILD_TYPE !== 'SLIM' && nodes && Compiler && Parser) { // i.e., not slim mode\n    const Slice = nodes.Node.extend('Slice', {\n      fields: ['start', 'stop', 'step'],\n      init(lineno, colno, start, stop, step) {\n        start = start || new nodes.Literal(lineno, colno, null);\n        stop = stop || new nodes.Literal(lineno, colno, null);\n        step = step || new nodes.Literal(lineno, colno, 1);\n        this.parent(lineno, colno, start, stop, step);\n      }\n    });\n\n    Compiler.prototype.assertType = function assertType(node) {\n      if (node instanceof Slice) {\n        return;\n      }\n      orig_Compiler_assertType.apply(this, arguments);\n    };\n    Compiler.prototype.compileSlice = function compileSlice(node, frame) {\n      this._emit('(');\n      this._compileExpression(node.start, frame);\n      this._emit('),(');\n      this._compileExpression(node.stop, frame);\n      this._emit('),(');\n      this._compileExpression(node.step, frame);\n      this._emit(')');\n    };\n\n    Parser.prototype.parseAggregate = function parseAggregate() {\n      var origState = getTokensState(this.tokens);\n      // Set back one accounting for opening bracket/parens\n      origState.colno--;\n      origState.index--;\n      try {\n        return orig_Parser_parseAggregate.apply(this);\n      } catch (e) {\n        const errState = getTokensState(this.tokens);\n        const rethrow = () => {\n          lib._assign(this.tokens, errState);\n          return e;\n        };\n\n        // Reset to state before original parseAggregate called\n        lib._assign(this.tokens, origState);\n        this.peeked = false;\n\n        const tok = this.peekToken();\n        if (tok.type !== lexer.TOKEN_LEFT_BRACKET) {\n          throw rethrow();\n        } else {\n          this.nextToken();\n        }\n\n        const node = new Slice(tok.lineno, tok.colno);\n\n        // If we don't encounter a colon while parsing, this is not a slice,\n        // so re-raise the original exception.\n        let isSlice = false;\n\n        for (let i = 0; i <= node.fields.length; i++) {\n          if (this.skip(lexer.TOKEN_RIGHT_BRACKET)) {\n            break;\n          }\n          if (i === node.fields.length) {\n            if (isSlice) {\n              this.fail('parseSlice: too many slice components', tok.lineno, tok.colno);\n            } else {\n              break;\n            }\n          }\n          if (this.skip(lexer.TOKEN_COLON)) {\n            isSlice = true;\n          } else {\n            const field = node.fields[i];\n            node[field] = this.parseExpression();\n            isSlice = this.skip(lexer.TOKEN_COLON) || isSlice;\n          }\n        }\n        if (!isSlice) {\n          throw rethrow();\n        }\n        return new nodes.Array(tok.lineno, tok.colno, [node]);\n      }\n    };\n  }\n\n  function sliceLookup(obj, start, stop, step) {\n    obj = obj || [];\n    if (start === null) {\n      start = (step < 0) ? (obj.length - 1) : 0;\n    }\n    if (stop === null) {\n      stop = (step < 0) ? -1 : obj.length;\n    } else if (stop < 0) {\n      stop += obj.length;\n    }\n\n    if (start < 0) {\n      start += obj.length;\n    }\n\n    const results = [];\n\n    for (let i = start; ; i += step) {\n      if (i < 0 || i > obj.length) {\n        break;\n      }\n      if (step > 0 && i >= stop) {\n        break;\n      }\n      if (step < 0 && i <= stop) {\n        break;\n      }\n      results.push(runtime.memberLookup(obj, i));\n    }\n    return results;\n  }\n\n  function hasOwnProp(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n\n  const ARRAY_MEMBERS = {\n    pop(index) {\n      if (index === undefined) {\n        return this.pop();\n      }\n      if (index >= this.length || index < 0) {\n        throw new Error('KeyError');\n      }\n      return this.splice(index, 1);\n    },\n    append(element) {\n      return this.push(element);\n    },\n    remove(element) {\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          return this.splice(i, 1);\n        }\n      }\n      throw new Error('ValueError');\n    },\n    count(element) {\n      var count = 0;\n      for (let i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          count++;\n        }\n      }\n      return count;\n    },\n    index(element) {\n      var i;\n      if ((i = this.indexOf(element)) === -1) {\n        throw new Error('ValueError');\n      }\n      return i;\n    },\n    find(element) {\n      return this.indexOf(element);\n    },\n    insert(index, elem) {\n      return this.splice(index, 0, elem);\n    }\n  };\n  const OBJECT_MEMBERS = {\n    items() {\n      return lib._entries(this);\n    },\n    values() {\n      return lib._values(this);\n    },\n    keys() {\n      return lib.keys(this);\n    },\n    get(key, def) {\n      var output = this[key];\n      if (output === undefined) {\n        output = def;\n      }\n      return output;\n    },\n    has_key(key) {\n      return hasOwnProp(this, key);\n    },\n    pop(key, def) {\n      var output = this[key];\n      if (output === undefined && def !== undefined) {\n        output = def;\n      } else if (output === undefined) {\n        throw new Error('KeyError');\n      } else {\n        delete this[key];\n      }\n      return output;\n    },\n    popitem() {\n      const keys = lib.keys(this);\n      if (!keys.length) {\n        throw new Error('KeyError');\n      }\n      const k = keys[0];\n      const val = this[k];\n      delete this[k];\n      return [k, val];\n    },\n    setdefault(key, def = null) {\n      if (!(key in this)) {\n        this[key] = def;\n      }\n      return this[key];\n    },\n    update(kwargs) {\n      lib._assign(this, kwargs);\n      return null; // Always returns None\n    }\n  };\n  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;\n  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;\n  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;\n\n  runtime.memberLookup = function memberLookup(obj, val, autoescape) {\n    if (arguments.length === 4) {\n      return sliceLookup.apply(this, arguments);\n    }\n    obj = obj || {};\n\n    // If the object is an object, return any of the methods that Python would\n    // otherwise provide.\n    if (lib.isArray(obj) && hasOwnProp(ARRAY_MEMBERS, val)) {\n      return ARRAY_MEMBERS[val].bind(obj);\n    }\n    if (lib.isObject(obj) && hasOwnProp(OBJECT_MEMBERS, val)) {\n      return OBJECT_MEMBERS[val].bind(obj);\n    }\n\n    return orig_memberLookup.apply(this, arguments);\n  };\n\n  return uninstall;\n}\n\nmodule.exports = installCompat;\n\n\n\n// WEBPACK FOOTER //\n// ./nunjucks/src/jinja-compat.js","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}